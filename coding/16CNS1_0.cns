
; 16's constants and state file.
;==========================================================================
;[Variables]
;0 = N/A
;1 = Nothing
;2
;3 = Flight Movement
;4
;5 = Targeted PlayerID
;6 = Sound Selector/Tired State
;7 = Below 250 Health
;8 = P2 Below 250 Helath
;9 = Move Target(Hell Flash)
;10 = Power Up.Decrease BG Brightness
;11 = Power Up.Increase BG Brightness
;12 = Hyper. Increase BG Brightness
;13 = Hyper. Y-Velocity, Fire Charge Mode
;14 = Fireball.Chain
;15 = 
;16 = Combo Hit Var
;17 = Scale Grow/Shrink
;18 = Random Positioning
;19 = Flash
;20 = no longer used (Flight)
;21 = no longer used (Flight Detect)
;22 = Basic Counter; Sliding Fire Kick Distance Var
;23 = X
;24 = Y
;27 = Sound Select
;28 = Position Y Detect
;29 = Damage Dampener
;33 = Running Combo Special Strength
;34 = TeleChain Recorder
;35 = Exploding Death Timer
;37 = Left Rocket Punch Cooldown
;38 = Right Rocket Punch Cooldown
;39 = AI Activation
;40 = AI Randomizer

[Data]
life = 1000
attack = 100
defence = 100
power = 3000
fall.defence_up = 90
liedown.time = 60
airjuggle = 20
sparkno = 2
guard.sparkno = 40
KO.echo = 1
KO.volume = 255
volume = 0
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 1           ;Horizontal scaling factor.
yscale = 1           ;Vertical scaling factor.
ground.back = 19     ;Player width (back, ground)
ground.front = 19    ;Player width (front, ground)
air.back = 14        ;Player width (back, air)
air.front = 12       ;Player width (front, air)
height = 76	         ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too   
head.pos = -2, -80   ;Approximate position of head
mid.pos = -1, -45    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 1.65          ;Walk forward
walk.back = -1.60         ;Walk backward
run.fwd  = 7.2, 0         ;Run forward (x, y)
run.back = -7.1, 0        ;Run backward (x, y)
jump.neu = 0,-8.4         ;Neutral jumping velocity (x, y)
jump.back = -2.8          ;Jump back Speed (x, y)
jump.fwd = 2.8            ;Jump forward Speed (x, y)
runjump.back = 3.8,-8.0   ;Running jump speeds (opt)
runjump.fwd = 3.8,-8.0    ;.
airjump.neu = 0,-7.0      ;.
airjump.back = -2.75      ;Air jump speeds (opt)
airjump.fwd = 2.75        ;.
air.gethit.groundrecover = -.15,-3.5  ;Velocity for ground recovery state (x, y) **MUGEN 1.0**
air.gethit.airrecover.mul = .5,.2     ;Multiplier for air recovery velocity (x, y) **MUGEN 1.0**
air.gethit.airrecover.add = 0,-4.5    ;Velocity offset for air recovery (x, y) **MUGEN 1.0**
air.gethit.airrecover.back = -1       ;Extra x-velocity for holding back during air recovery **MUGEN 1.0**
air.gethit.airrecover.fwd = 0         ;Extra x-velocity for holding forward during air recovery **MUGEN 1.0**
air.gethit.airrecover.up = -2         ;Extra y-velocity for holding up during air recovery **MUGEN 1.0**
air.gethit.airrecover.down = 1.5      ;Extra y-velocity for holding down during air recovery **MUGEN 1.0**

[Movement]
airjump.num = 0                       ;Number of air jumps allowed (opt)
airjump.height = 35                   ;Minimum distance from ground before you can air jump (opt)
yaccel = .44                          ;Vertical acceleration
stand.friction = .85                  ;Friction coefficient when standing
crouch.friction = .82                 ;Friction coefficient when crouching
stand.friction.threshold = 1          ;If player's speed drops below this threshold while standing, stop his movement **MUGEN 1.0**
crouch.friction.threshold = .05       ;If player's speed drops below this threshold while crouching, stop his movement **MUGEN 1.0**
air.gethit.groundlevel = 25           ;Y-position at which a falling player is considered to hit the ground **MUGEN 1.0**
air.gethit.groundrecover.ground.threshold = -20 ;Y-position below which falling player can use the recovery command **MUGEN 1.0**
air.gethit.groundrecover.groundlevel = 10   ;Y-position at which player in the ground recovery state touches the ground **MUGEN 1.0**
air.gethit.airrecover.threshold = -1  ;Y-velocity above which player may use the air recovery command **MUGEN 1.0**
air.gethit.airrecover.yaccel = .35    ;Vertical acceleration for player in the air recovery state **MUGEN 1.0**
air.gethit.trip.groundlevel = 15      ;Y-position at which player in the tripped state touches the ground **MUGEN 1.0**
down.bounce.offset = 0, 20            ;Offset for player bouncing off the ground (x, y) **MUGEN 1.0**
down.bounce.yaccel = .4               ;Vertical acceleration for player bouncing off the ground **MUGEN 1.0**
down.bounce.groundlevel = 12          ;Y-position at which player bouncing off the ground touches the ground again **MUGEN 1.0**
down.friction.threshold = .05         ;If the player's speed drops below this threshold while lying down, stop his movement **MUGEN 1.0**

;Default language victory quotes.  **MUGEN 1.0**
[Quotes]
victory1 = "Destruction of Target Confirmed."
victory2 = "Mission accomplished."
victory3 = "....."
victory4 = "Arm #2 not found. Search systems activated."
victory5 = "Target destroyed. Disengaging."
victory6 = "Calculating coordinates of the next objective."
victory7 = "Deactivate combat system."
victory8 = "It appears my sensors require calibration.."
victory9 = "Objective complete."
victory10 = "I AM ERROR."
victory11 = "Number 16 is alive!"
victory12 = "You are terminated."
;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?            S/C/A/L  stand/crouch/air/liedown
; movetype = ?        I/A/H    idle/attack/gethit
; physics = ?         S/C/A/N  stand/crouch/air/none
; juggle = ?          air juggle points move requires
;
; [State STATENO, ?]  ? - any number you choose
; type = ?   

;---------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S
;anim = 0

[State 180, Win.Var]
type = VarAdd
trigger1 = !time
v = 35
value = 1

[State 180, GoToSelfDestructVictory]
type = ChangeState
triggerall = (prevstateno = [2300,2349])
trigger1 = !time
value = 185

[State 180, GoToTired]
type = ChangeState
triggerall = Life <= 250
trigger1 = !time
value = 184

[State 180, Win1]
type = ChangeState
triggerall = Life > 250
trigger1 = !time
value = 181
;---------------------------------------------------------------------------
; Win pose 1
[Statedef 181]
type = S
ctrl = 0
velset = 0,0
anim = 181+ifelse(matchover,random%2,0)

[State 181, PlaySND1]
type = PlaySnd
triggerall = !matchover
trigger1 = animelem=5
value = 7, 1
channel = 0
volume = 255

[State 181, PlaySND2]
type = PlaySnd
triggerall = matchover && anim = 181
trigger1 = animelem=5
value = 7, 2
channel = 0
volume = 255
[State 181, PlaySND3]
type = PlaySnd
triggerall = matchover && anim = 182
trigger1 = animelem=2
value = 7, 0
channel = 0
volume = 255

[State 181, RoundEnd]
type = AssertSpecial
trigger1 = time < 150
flag = roundnotover

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; Win pose 4 - Tired
[Statedef 184]
type = S
ctrl = 0
velset = 0, 0
anim = 5300

[State 184, PlaySND]
type = PlaySnd
trigger1 = !time
value = 722, 0

[State 184, PlaySND]
type = PlaySnd
trigger1 = !time
value = 6, 0
volume = 255
channel = 0

[State 184, Elec1]
type = Explod
triggerall = time < 30
trigger1 = time % 3 = 0
Anim = 10040+random%2
Postype = p1
Pos = -6, -45
random = 16,60
Id = 10040
sprpriority = 3
removeongethit = 1
Bindtime = -1
scale = 0.5,0.5

[State 184, Elec2]
type = Explod
trigger1 = random % 25 = 0
Anim = 10042+random%2
Postype = p1
Pos = -6, -30
random = 20,44
velocity = 0,(-1-(random%5*0.25))
Id = 10042
sprpriority = 3
removeongethit = 1
Bindtime = 1
scale = 0.5,0.5

[State 184, PlaySND]
type = PlaySnd
trigger1 = time = 40
value = 720, 0

[State 184, Smoke1]
type = Explod
triggerall = time%2=0
trigger1 = time = [40,54]
Anim = 15302+random%2
Postype = p1
Pos = -6, -35
random = 30,70
Id = 15300
sprpriority = 3
removeongethit = 1
Bindtime = -1
scale = 0.5,0.5

[State 184, RoundEnd]
type = AssertSpecial
trigger1 = time < 160
flag = roundnotover

[State 184, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; Win pose 5 - Self-Destruct Victory
[Statedef 185]
type = S
movetype = I
velset = 0,0
anim = 185

[State 185, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 185, Voice-Destrn Of Target]
type = PlaySnd
triggerall = random%3=0
trigger1 = time = 62
value = 7, 0
volumescale = 100
channel = 0
[State 185, Voice-AsCalculated]
type = PlaySnd
triggerall = random%3=1
trigger1 = time = 62 
value = 7, 1
volumescale = 100
channel = 0
[State 185, Voice-Mission Accomplished]
type = PlaySnd
triggerall = random%3=2
trigger1 = time = 62 
value = 7, 2
volumescale = 100
channel = 0

[State 185, RoundEnd]
type = AssertSpecial
trigger1 = time < 260
flag = roundnotover

[State 185, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; Taunt
[Statedef 195]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = S
sprpriority = 2
anim = 195

[State 195, PlaySND]
type = PlaySnd
trigger1 = time = 7
value = 5, 3
channel = 0
volume = 255

[State 193, PlaySND2]
type = PlaySnd
triggerall = numhelper(17002)
trigger1 = (time = [140,155]) && helper(17002), var(10) > 0
value = 5, 4
channel = 0
volume = 255
lowpriority = 1

[State 195, CtrlSet]
type = CtrlSet
trigger1 = Time >= 159
value = 1

[State 195, LifeAdd]
type = LifeAdd
trigger1 = Time%3=0
value = 1

[State 195, PowerAdd]
type = PowerAdd
trigger1 = time%3=0
value = 2

[State 195, Scanner.Helper]
type = Helper
trigger1 = time=8
name = "Scanner"
stateno = 17002
postype = p1
pos = 9, -91
keyctrl = 0
ownpal = 1
id = 17002

[State 195, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stand Light Punch
; CNS difficulty: easy
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
poweradd = 20
sprpriority = 2
anim = 200

[State 200, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 200, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 250
value = 1, 14
volume = 255
channel = 0

[State 200, HitDef]
type = HitDef
trigger1 = !time
attr = S, NA
animtype  = Light
damage    = 30
guardflag = MA
pausetime = 10,10
sparkno = 0
sparkxy = -15,-61
hitsound   = S300,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3
air.velocity = -3,-2
envshake.time = 6
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 200, CtrlSet]
type = CtrlSet
trigger1 = Time = 13
value = 1

[State 200, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing Med punch
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 25
ctrl = 0
velset = 0,0
sprpriority = -1
anim = 210

[State 220, VelSet]
type = Velset
triggerall = prevstateno = 200 || prevstateno = 230 || prevstateno = 400 || prevstateno = 430
trigger1 = animelem = 2,=[0,1]
x = 3.0

[State 210, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0

[State 210, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 250
value = 1, 13
volume = 255
channel = 0

[State 210, HitDef]
type = HitDef
trigger1 = !time
attr = S, NA
animtype  = Medium
damage    = 35
guardflag = MA
pausetime = 11,11
sparkno = 1
sparkxy = -16,-68
hitsound   = S302,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,0
air.velocity = -4,-2
air.fall = 1
envshake.time = 9
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 210, CtrlSet]
type = CtrlSet
trigger1 = Time = 15
value = 1

[State 210, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Strong Punch
; CNS difficulty: easy
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 1,0     
ctrl = 0  
poweradd = 40
sprpriority = 2
anim = 220

[State 220, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0

[State 220, Voice]
type = PlaySnd
triggerall = random < 300
trigger1 = !time
value = 1, 6
channel = 0
volume = 255

[State 220, VelSet]
type = Velset
trigger1 = animelem = 2,=[0,1]
x = 6.0

[State 220, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 12
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 220, Hitdef]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
animtype  = Light
damage    = 16
guardflag = MA
pausetime = 7,13
sparkno = 2
sparkxy = -17,-62
hitsound   = S302,0
guardsound = 6,0
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -12
air.velocity = -7,-4
air.fall = 1
ground.cornerpush.veloff = 0
envshake.time = 6
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 220, Hitdef]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
animtype  = Hard
damage    = 44
guardflag = MA
pausetime = 14,12
sparkno = 2
sparkxy = -8,-42
hitsound   = S303,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -12,8
air.velocity = -7,-4
fall =1
down.bounce = 1
fall.xvelocity = ifelse(enemynear(0),facing!=facing,-3,3)
fall.yvelocity = -8
envshake.time = 15
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 220, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Light Kick
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 30
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 230

[State 230, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 201, 0

[State 230, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 250
value = 1, 15
volume = 255
channel = 0

[State 230, HitDef]
type = HitDef
trigger1 = !time
attr = S, NA
animtype  = Light
damage    = 26
guardflag = MA
pausetime = 12,12
sparkno = 0
sparkxy = -16,-30
hitsound   = S302,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -3
air.velocity = -3,-2
envshake.time = 6
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 230, CtrlSet]
type = CtrlSet
trigger1 = animelem = 4
value = 1

[State 230, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing med kick
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 35
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 240

[State 240, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 202, 0

[State 240, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 250
value = 1, 16
volume = 255
channel = 0

[State 240, HitDef]
type = HitDef
trigger1 = !time
attr = S, NA
animtype  = Medium
damage    = 40
guardflag = MA
pausetime = 14,14
sparkno = 1
sparkxy = -20,-68
hitsound   = S301,0
guardsound = 6,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -4
air.velocity = -4,-3
envshake.time = 9
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90

[State 240, CtrlSet]
type = CtrlSet
trigger1 = animelem = 3
value = 1

[State 240, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing Hard Kick
; CNS difficulty: easy
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 40
ctrl = 0
velset = 1,0
sprpriority = 2
anim = 250

[State 250, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 202, 0

[State 250, Voice]
type = PlaySnd
triggerall = random < 200
trigger1 = !time
value = 1, 17
channel = 0
volume = 255

[State 250, VelSet]
type = Velset
trigger1 = animelem = 2,=[0,1]
x = 4.0

[State 250, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 12
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,0
timegap = 1
framegap = 1
trans = Add

[State 250, HitDef]
type = HitDef
trigger1 = !time
attr = S, NA
animtype  = Back
damage    = 50
hitflag = ifelse(prevstateno = 220, MAFD,MA)
guardflag = MA
pausetime = 17,16
sparkno = 2
sparkxy = -23,-58
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -12
air.velocity = -8,-4.5
air.fall = 1
envshake.time = 12
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 250, 4]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Launcher
[Statedef 260]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 45
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 260

[State 260, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 210, 0

[State 260, PlaySND]
type = PlaySnd
triggerall = random >= 700
trigger1 = time = 2
value = 1,18
channel = 0
volume = 255

[State 260, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 12
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 260, VelSet]
type = Velset
trigger1 = animelem = 2,=[0,1]
x = 4.0

[State 260, Hitdef1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Hard
damage    = 15,3
guardflag = MA
pausetime = 7,11
sparkno = 1
sparkxy = -18,-62
hitsound   = S302,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -10
ground.cornerpush.veloff = 0
air.velocity = -7,-6
envshake.time = 13
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 260, Hitdef1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = Up
damage    = 50,10
guardflag = MA
pausetime = 15,16
sparkno = 2
sparkxy = -14,-103
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -0.7, -16.4
air.velocity = -7,-8
fall = 1
fall.recover = 1
envshake.time = 13
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 260, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Advance Guard
[Statedef 330]
type    = S 
movetype= A 
physics = S 
juggle  = 0 
velset = 0,0
ctrl = 0 
poweradd = -400
sprpriority = 2
anim = 330

[State 330, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 330, 0

[State 330, Voice]
type = PlaySnd
trigger1 = Time = 1 && random >= 600
value = 3, 2
volume = 255
channel = 0

[State 330, Spark]
type = Explod
trigger1 = animelem = 2
Anim = 10800
Pos = 37, -46
Id = 10800
sprpriority = 3
removeongethit = 0
Postype = p1
Bindtime = -1
ownpal =1
scale = 0.5,0.5

[State 330, HitDef]
type = HitDef
trigger1 = !time
attr = S, NA
animtype  = Back
damage    = 60,12
guardflag = MA
pausetime = 5,13
sparkno = 2
sparkxy = -25,-46
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -11,-5
air.velocity = -11,-5
air.fall = 1
fall = 1
fall.recover = 0
envshake.time = 15
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 330, HitOverride]
type = Hitoverride
trigger1 = 1
attr = S, NA
stateno = 130
value = 202, 0

[State 330, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 330, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Crouching light punch
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 35
ctrl = 0
sprpriority = 2
anim = 400

[State 400, Voice]
type = PlaySnd
trigger1 = Time = 1 && random < 150
value = 1, 14
volume = 255
channel = 0

[State 400, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 400, HitDef]
type = HitDef
trigger1 = !time
attr = C, NA
damage    = 27
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,10
sparkno = 0
sparkxy = -15,-49
hitsound   = S300,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -5
air.velocity = -4,-2
envshake.time = 6
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 400, Control]
type = CtrlSet
trigger1 = animelem = 3
value = 1

[State 400, End]
type = ChangeState
trigger1 = !animtime
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching Medium punch
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 45
ctrl = 0
sprpriority = 2
anim = 410

[State 410, Voice]
type = PlaySnd
trigger1 = Time = 1 && random < 180
value = 1, 13
volume = 255
channel = 0

[State 410, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 410, HitDef]
type = HitDef
trigger1 = !time
attr = C, NA
damage    = 34
priority  = 3
animtype  = Medium
hitflag = MAF
guardflag = L
pausetime = 12,12
sparkno = 1
sparkxy = -18,-40
hitsound   = S302,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -6
air.velocity = -5,-2
envshake.time = 9
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90

[State 410, Control]
type = CtrlSet
trigger1 = animelem = 3
value = 1

[State 410, End]
type = ChangeState
trigger1 = !animtime
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching Strong punch
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 55
ctrl = 0
sprpriority = 2
anim = 420

[State 420, VelSet]
type = Velset
triggerall = prevstateno = 410 || prevstateno = 440
trigger1 = time = 3
x = 6.0

[State 420, Voice]
type = PlaySnd
trigger1 = Time = 1 && random < 200
value = 1, 11
volume = 255
channel = 0

[State 420, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0

[State 420, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 12
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 420, HitDef]
type = HitDef
trigger1 = !time
attr = C, NA
damage    = 46
priority  = 3
animtype  = DiagUp
hitflag = MAF
guardflag = L
pausetime = 13,14
sparkno = 2
sparkxy = -15,-73
hitsound   = S302,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 16
ground.velocity = -4,-8
air.velocity = -4,-8
fall = 1
fall.recover = 0
envshake.time = 15
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 420, End]
type = ChangeState
trigger1 = !animtime
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching light kick
; CNS difficulty: easy
[Statedef 430]
type    = C
movetype= A
physics = C
juggle = 2
poweradd= 40
ctrl = 0
sprpriority = 2
anim = 430

[State 430, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 201, 0

[State 430, Voice]
type = PlaySnd
trigger1 = Time = 1 && random < 150
value = 1, 0
volume = 255
channel = 0

[State 430, HitDef]
type = HitDef
trigger1 = !time
attr = C, NA
damage    = 30
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = 0
sparkxy = -13,-15
hitsound   = S302,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -3
air.velocity = -3,-3
down.velocity = -5,0
down.hittime = 20
envshake.time = 6
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 430, End]
type = ChangeState
trigger1 = !animtime
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching Medium kick
; CNS difficulty: easy
[Statedef 440]
type    = C
movetype= A
physics = C
juggle = 2
poweradd= 48
ctrl = 0
sprpriority = 2
anim = 440

[State 440, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 202, 0

[State 440, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 190
value = 1, 15
volume = 255
channel = 0

[State 440, HitDef]
type = HitDef
trigger1 = !time
attr = C, NA
damage    = 35
animtype  = Medium
hitflag = MAFD
guardflag = L
pausetime = 14,14
sparkno = 1
sparkxy = -15,-7
hitsound   = S302,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20
envshake.time = 8
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90

[State 440, End]
type = ChangeState
trigger1 = !animtime
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching Strong kick
[Statedef 450]
type    = C
movetype= A
physics = C
juggle = 2
poweradd= 56
ctrl = 0
sprpriority = 2
anim = 450

[State 450, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 210, 0

[State 450, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 250
value = 1, 11
volume = 255
channel = 0

[State 440, VelSet]
type = Velset
trigger1 = animelem = 3, =[0,1]
x = 7.0

[State 440, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 12
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 450, HitDef]
type = HitDef
trigger1 = !time
attr = C, NA
damage    = 55
animtype  = Hard
hitflag = MAFD
guardflag = L
pausetime = 15,16
sparkno = 2
sparkxy = -17,-16
hitsound   = S303,0
guardsound = 6,0
ground.type =Trip
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -9,-3.6
air.velocity = -9,-3.6
envshake.time = 14
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 450, End]
type = ChangeState
trigger1 = !animtime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Jump Light Punch
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 30
ctrl = 0
sprpriority = 2
anim = 600

[State 600, VelAdd];Anti-Gravity
type = VelAdd
Trigger1 = animelem = 2
y = -1.1

[State 600, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 600, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 150
value = 1, 0
volume = 255
channel = 0

[State 600, HitDef]
type = HitDef
trigger1 = !time
attr = A, NA
animtype  = Light
damage    = 27
guardflag = HA
priority = 3
pausetime = 12,12
sparkno = 0
sparkxy = -16,-38
hitsound   = S300,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -6
air.velocity = -3,-4
envshake.time = 7
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 600, Control]
type = CtrlSet
trigger1 = Time = 18
value = 1
;---------------------------------------------------------------------------
;Jump Medium Punch
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 40
ctrl = 0
sprpriority = 2
anim = 610

[State 610, VelAdd];Anti-Gravity
type = VelAdd
Trigger1 = animelem = 2
y = -1.2

[State 610, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 201, 0

[State 610, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 200
value = 1, 13
volume = 255
channel = 0

[State 610, HitDef]
type = HitDef
trigger1 = !time
attr = A, NA
animtype  = Medium
damage    = 30
guardflag = HA
priority = 3
pausetime = 13,13
sparkno = 1
sparkxy = -15,-25
hitsound   = S301,0
guardsound = 6,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -7
air.velocity = -3,-4
envshake.time = 10
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90

[State 610, Control]
type = CtrlSet
trigger1 = Time = 24
value = 1
;---------------------------------------------------------------------------
;Jump Strong Punch
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 50
ctrl = 0
sprpriority = 2
anim = 620

[State 620, VelAdd];Anti-Gravity
type = VelAdd
Trigger1 = animelem = 3
y = -1

[State 620, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 210, 0

[State 620, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 200
value = 1, 7
volume = 255
channel = 0

[State 620, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 22
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 620, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
animtype  = Light
damage    = 10
guardflag = HA
priority = 3
pausetime = 8,11
sparkno = 1
sparkxy = -16,-83
hitsound   = S302,0
guardsound = 6,0
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -8
air.velocity = -2,0
envshake.time = 8
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 620, HitDef2]
type = HitDef
trigger1 = animelem = 4
attr = A, NA
animtype  = Hard
damage    = 40
guardflag = HA
priority = 3
pausetime = 16,16
sparkno = 2
sparkxy = -12,-60
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -9
air.velocity = -4,7
air.fall = 1
fall.recover = 0
fall.xvelocity = -2
fall.yvelocity = -8
fall.damage = 10
down.bounce = 1
envshake.time = 14
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 620, Control]
type = CtrlSet
trigger1 = Time = 40
value = 1
;---------------------------------------------------------------------------
;Jump L Kick
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 40
ctrl = 0
sprpriority = 2
anim = 630

[State 630, VelAdd];Anti-Gravity
type = VelAdd
Trigger1 = animelem = 2
y = -1.2

[State 630, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0

[State 630, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 200
value = 1, 14
volume = 255
channel = 0

[State 630, 2]
type = HitDef
trigger1 = !time
attr = A, NA
damage = 40
guardflag = HA
priority = 3
pausetime = 12,12
sparkno = 0
sparkxy = -17,-46
hitsound   = S301,0
guardsound = 6,0
ground.type = High
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = -6
air.velocity = -3,-4
envshake.time = 8
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 630, Control]
type = CtrlSet
trigger1 = Time = 20
value = 1
;---------------------------------------------------------------------------
;Jump M Kick
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 50
ctrl = 0
sprpriority = 2
anim = 640

[State 640, VelAdd];Anti-Gravity
type = VelAdd
Trigger1 = animelem = 2
y = -1.5

[State 640, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0

[State 640, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 200
value = 1, 14
volume = 255
channel = 0
freqmul = 0.8

[State 640, HitDef]
type = HitDef
trigger1 = !Time
attr = A, NA
damage = 45
guardflag = HA
priority = 3
pausetime = 13,13
sparkno = 1
sparkxy = -16,-53
hitsound   = S302,0
guardsound = 6,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -6,-5
air.velocity = -3,-6
envshake.time = 11
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90

[State 620, Control]
type = CtrlSet
trigger1 = Time = 25
value = 1
;---------------------------------------------------------------------------
;Jump S Kick
[Statedef 650]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 60
ctrl = 0
sprpriority = 2
anim = 650

[State 650, VelAdd];Anti-Gravity
type = VelAdd
Trigger1 = animelem = 2
y = -1

[State 650, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 201, 0

[State 650, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 200
value = 1, 6
volume = 255
channel = 0

[State 650, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 22
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 650, HitDef]
type = HitDef
trigger1 = !Time
attr = A, NA
damage = 50
guardflag = HA
priority = 3
pausetime = 15,15
sparkno = 2
sparkxy = -17,-35
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -10
air.velocity = -4,7
air.fall = 1
fall.recover = 0
envshake.time = 15
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 650, Control]
type = CtrlSet
trigger1 = Time = 37
value = 1
;---------------------------------------------------------------------------
;Basic Throw
[Statedef 800]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 1

[State 800, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
priority = 2, miss
sparkno = -1
snap = 32,0
p1stateno = 810
p2stateno = 95020
p2facing = 1

[State 800, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;-------------------------------------------------------------------------
; Throw successful
[Statedef 810]
type = S
movetype = A
physics = S
velset = 0,0
anim = 810
sprpriority = 1

[State 810, HitRing]
type = Helper
trigger1 = !time
name = "ContactRing"
stateno = 10101
postype = p1
pos = 19, -37
keyctrl = 0
ownpal = 1
id = 10101
ignorehitpause = 1
supermovetime  = 9999
pausemovetime  = 9999
size.xscale = 1
size.yscale = 1

[State 810, GrabSND]
type = PlaySnd
trigger1 = !time
value = 800, 0

[State 810, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 810, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 3
value = 210,0

[State 810, Voice]
type = PlaySnd
triggerall = random >= 300
trigger1 = !time
value = 1,7
channel = 0
volume = 255

[State 810, Damage]
type = TargetLifeAdd
trigger1 = !animtime
value = -10

[State 810, TBind1]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 10,0

[State 810, TBind2]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 0,-10

[State 810, TState]
type = TargetState
trigger1 = AnimElem = 3
value = 95021

[State 810, Turn]
type = Turn
trigger1 = AnimElem = 5

[State 810, State]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Throw Toss Player 2 State
[Statedef 95020]
type    = A
movetype= H ;Get hit
physics = N
velset = 1,0
ctrl = 0
;anim = 95020
sprpriority = 2

[State 95020, Animation]
type = ChangeAnim2
trigger1 = !time
value = 95020

;BLARGH!
[State 95020, HitBy]
type = HitBy
Trigger1 = Time >= 0
value = SCA
time = 1

[State 95010, End]
type = ChangeState
trigger1 = Time >= 40
value = 50
ctrl = 1

;-------------------------------------------------------------------------
; Throw Toss Player 2 State
[Statedef 95021]
type    = A
movetype= H ;Get hit
physics = N
velset = 7,-7.6
ctrl = 0
;anim = 95021
sprpriority = 2

[State 95021, Animation]
type = ChangeAnim2
trigger1 = !time
value = 95021

[State 95021, PosAdd]
type = PosAdd
trigger1 = !time
x =  12
y = 0

[State 95021, 2] ;Gravity
type = VelAdd
Trigger1 = Time > 0
y = 0.44

[State 95021, Damage]
type = LifeAdd
trigger1 = !time
value = -60

[State 95021, SelfState] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 5100 ;Hit ground
;-------------------------------------------------------------------------
; Custom P2 State - Stationary (5031,0 - First MidSection Fall frame)
[Statedef 695061]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 2

[State 695061, Animation]
type = ChangeAnim2
trigger1 = !time
value = 695061

[State 695061, PosSet]
type = PosSet
trigger1 = Pos Y > 0
y = 0 

[State 695061, SelfState]
type = SelfState
trigger1 = time > 500
value = 5061 
[State 695061, SelfState]
type = SelfState
trigger1 = Pos Y = 0
value = 5100 
;---------------------------------------------------------------------------
; Rocket Throw-Counter State
[Statedef 900]
type    = S
movetype= I
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = -250
sprpriority = 2
anim = 900

[State 900, Ring]
type = Explod
trigger1 = !(time%12)
Anim = 10011
Pos = -3, 0
Id = 10011
sprpriority = -1
removeongethit = 1
Postype = p1
Bindtime = 1
ownpal = 1
scale = 0.50, 0.50

[State 900, Sound]
type = PlaySnd
trigger1 = !time
value = 1401,0
volume = 255

[State 900, ElecA]
type = Explod
trigger1 = !time
Anim = 10020
Pos = 17, -16
Id = 10020
sprpriority = 3
removeongethit = 1
removetime = 18
bindtime = 1
Postype = p1
ownpal = 1
scale = 0.7, 0.7

[State 900, ElecC]
type = Explod
trigger1 = time = 8
Anim = 10022
Pos = -25,-50
Id = 10022
sprpriority = 3
removeongethit = 1
removetime = 20
bindtime = 1
Postype = p1
ownpal = 1
scale = 0.7, 0.7

[State 900, ElecD]
type = Explod
trigger1 = time = 16
Anim = 10023
Pos = -11,-16
Id = 10023
sprpriority = 3
removeongethit = 1
removetime = 18
bindtime = 1
Postype = p1
ownpal = 1
scale = 0.7, 0.7

[State 900, PoseSND]
type = PlaySnd
trigger1 = !time
value = 101, 0

[State 900, VarSet]
type = Varset
triggerall = Var(4) = 0
trigger1 = !time
v = 12
value = 180

[State 900, VarAdd]
type = VarAdd
triggerall = Var(4) = 0
trigger1 = (time = [0,30])
v = 12
value = -6

[State 900, PalFX]
type = PalFX
triggerall = Var(4) = 0
trigger1 = Time = [0,29]
time = 1
add = 0,0,(var(12))

[State 900, GetHit]
type = HitOverride
trigger1 = 1
time = 1
attr = SCA, NA, NP, SA, SP
slot = 0
stateno = 901

[State 900, End]
type = ChangeState
trigger1 = time = 36
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Rocket Throw
[Statedef 901]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 901
sprpriority = 1

[State 901, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, ST
priority = 2, miss
sparkno = -1
snap = 42,0
p1stateno = 902
p2stateno = 95020
p2facing = 1
chainid = 1321
hitflag = MAFDL

[State 901, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;-------------------------------------------------------------------------
; Rocket Throw successful
[Statedef 902]
type = S
movetype = A
physics = S
velset = 0,0
anim = 902
sprpriority = 1

[State 902, HitRing]
type = Helper
trigger1 = !time
name = "ContactRing"
stateno = 10101
postype = p1
pos = 52, -47
keyctrl = 0
ownpal = 1
id = 10101
ignorehitpause = 1
supermovetime  = 9999
pausemovetime  = 9999
size.xscale = 1
size.yscale = 1

[State 902, VarSet-Voice]
Type = VarRandom
Trigger1 = !time
v = 27
range = 0,2

[State 902, Voice]
type = PlaySnd
triggerall = var(27)=1
trigger1 = !time
value = 1,8
channel = 0
volume = 255
[State 902, Voice]
type = PlaySnd
triggerall = var(27)=2
trigger1 = animelem = 5
value = 3,14
channel = 0
volume = 155
freqmul=0.9

[State 810, GrabSND]
type = PlaySnd
trigger1 = !time
value = 800, 0

[State 902, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 902, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 3
value = 210,0

[State 902, Damage]
type = TargetLifeAdd
trigger1 = !animtime
value = -10

[State 902, TBind1]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 52,0

[State 902, TBind2]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 52,0

[State 902, TBind3]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = 50,-2

[State 902, TBind4a]
type = TargetBind
trigger1 = AnimElem = 4, = 0
pos = 7,-35
[State 902, TBind4b]
type = TargetBind
trigger1 = AnimElem = 4, = 1
pos = -4,-44
[State 902, TBind4c]
type = TargetBind
trigger1 = AnimElem = 4, = 2
pos = -15,-53

[State 902, TState]
type = TargetState
trigger1 = AnimElem = 4, = 2
value = 95037

[State 902, SprPriority.Sound]
type = SprPriority
trigger1 = animelem = 4
value = 2

[State 902, Rocket.Sound]
type = PlaySnd
trigger1 = animelem = 5
value = 1015, 0

[State 902, RocketPunch.Helper]
type = Helper
trigger1 = animelem = 5
name = "RocketFist-T"
stateno = 12153
postype = p1
pos = -42, -99
keyctrl = 0
ownpal = 1
id = 12153

[State 902, Sound]
type = PlaySnd
trigger1 = animelem = 7
value = 700, 1

[State 902, Turn]
type = Turn
trigger1 = !animtime

[State 902, State]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;-------------------------------------------------------------------------
; Rocket Throw Player 2 State
[Statedef 95037]
type    = A
movetype= H
physics = N
velset = 7,-10.6
ctrl = 0
sprpriority = 2

[State 95037, Animation]
type = ChangeAnim2
trigger1 = !time
value = 95021

[State 95037, 2] ;Gravity
type = VelAdd
Trigger1 = Time > 0
y = 0.44

[State 95037, Damage]
type = LifeAdd
trigger1 = !time
value = -60

[State 95037, SelfState] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 5100 ;Hit ground
;---------------------------------------------------------------------------
;Spinning Slam Grabulate
[Statedef 950]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 950
sprpriority = 1

[State 950, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
priority = 2, miss
sparkno = -1
snap = 42,0
p1stateno = 951
p2stateno = 95020
p2facing = 1

[State 950, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;-------------------------------------------------------------------------
; Spinning Slam Grabulated
[Statedef 951]
type = S
movetype = A
physics = S
velset = 0,0
anim = 951
sprpriority = 1

[State 951, Disengage_VoiceVar]
type = VarSet
trigger1 = !time
v = 41
value = 0

[State 951, VarSet-Voice]
Type = VarRandom
Trigger1 = !time
v = 27
range = 0,2

[State 951, Voice1]
type = PlaySnd
triggerall = var(27)=0
trigger1 = time = 3
value = 1,1
channel = 0
volume = 255

[State 951, HitRing]
type = Helper
trigger1 = !time
name = "ContactRing"
stateno = 10101
postype = p1
pos = 52, -47
keyctrl = 0
ownpal = 1
id = 10101
ignorehitpause = 1
supermovetime  = 9999
pausemovetime  = 9999
size.xscale = 1
size.yscale = 1

[State 810, GrabSND]
type = PlaySnd
trigger1 = !time
value = 800, 0

[State 951, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 951, Damage]
type = TargetLifeAdd
trigger1 = !animtime
value = -10

[State 951, TBind1]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 52,0

[State 951, TBind2]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 52,0

[State 951, TBind3]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = 50,-2

[State 951, Dust1]
type = Explod
triggerall = pos y > -20
trigger1 = !animtime
Anim = 15010
Pos = -22, 20-floor(pos y)
Id = 15010
sprpriority = -1
removeongethit = 0
removetime = 28
Postype = p1
ownpal =1
scale = 0.25,0.25

[State 951, Dust2]
type = Explod
triggerall = pos y > -20
trigger1 = !animtime
Anim = 15011
Pos = 22, 20-floor(pos y)
Id = 15011
sprpriority = -1
removeongethit = 0
removetime = 28
Postype = p1
ownpal =1
scale = 0.25,0.25

[State 951, State]
type = ChangeState
trigger1 = !AnimTime
value = 952
;-------------------------------------------------------------------------
; The Big Spin
[Statedef 952]
type = A
movetype = A
physics = N
velset = -1,-20
anim = 952
sprpriority = 2

[State 951, Voice2]
type = PlaySnd
triggerall = var(27)=1
trigger1 = time = 2
value = 1,10
channel = 0
volume = 255
[State 952, Voice3]
type = PlaySnd
triggerall = var(27)=2
trigger1 = !time
value = 3,0
channel = 0
volume = 255
freqmul=0.9

[State 952, Jump]
type = PlaySnd
trigger1 = !Time
value = 41, 0

[State 952, AfterImage]
type = AfterImage
trigger1 = !time
time = 93
length = 16
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 952, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 952, SprPriority]
type = SprPriority
trigger1 = AnimElem = 2, =0
trigger2 = AnimElem = 3, =0
trigger3 = AnimElem = 6, =0
trigger4 = AnimElem = 7, =0
trigger5 = AnimElem = 10, =0
trigger6 = AnimElem = 11, =0
trigger7 = AnimElem = 14, =0
trigger8 = AnimElem = 15, =0
value = 2
[State 952, SprPriority]
type = SprPriority
trigger1 = AnimElem = 1, =0
trigger2 = AnimElem = 4, =0
trigger3 = AnimElem = 5, =0
trigger4 = AnimElem = 8, =0
trigger5 = AnimElem = 9, =0
trigger6 = AnimElem = 12, =0
trigger7 = AnimElem = 13, =0
trigger8 = AnimElem = 16, =0
value = 1

[State 952, TargetState]
type = TargetState
trigger1 = AnimElem = 2, =0
trigger2 = AnimElem = 3, =0
trigger3 = AnimElem = 6, =0
trigger4 = AnimElem = 7, =0
trigger5 = AnimElem = 10, =0
trigger6 = AnimElem = 11, =0
trigger7 = AnimElem = 14, =0
trigger8 = AnimElem = 15, =0
value = 95038
[State 952, TargetState]
type = TargetState
trigger1 = AnimElem = 1, =0
trigger2 = AnimElem = 4, =0
trigger3 = AnimElem = 5, =0
trigger4 = AnimElem = 8, =0
trigger5 = AnimElem = 9, =0
trigger6 = AnimElem = 12, =0
trigger7 = AnimElem = 13, =0
trigger8 = AnimElem = 16, =0
value = 95039

[State 952, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 952, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 5
trigger3 = AnimElem = 9
trigger4 = AnimElem = 13
value = 202,0

[State 952, TBind1]
type = TargetBind
trigger1 = AnimElem = 1, >=0 && AnimElem = 2, < 0
trigger2 = AnimElem = 5, >=0 && AnimElem = 6, < 0
trigger3 = AnimElem = 9, >=0 && AnimElem = 10, < 0
trigger4 = AnimElem = 13, >=0 && AnimElem = 14, < 0
pos = 36,-63
[State 952, TBind2]
type = TargetBind
trigger1 = AnimElem = 2, >=0 && AnimElem = 3, < 0
trigger2 = AnimElem = 6, >=0 && AnimElem = 7, < 0
trigger3 = AnimElem = 10, >=0 && AnimElem = 11, < 0
trigger4 = AnimElem = 14, >=0 && AnimElem = 15, < 0
pos = -20,-66
[State 952, TBind3]
type = TargetBind
trigger1 = AnimElem = 3, >=0 && AnimElem = 4, < 0
trigger2 = AnimElem = 7, >=0 && AnimElem = 8, < 0
trigger3 = AnimElem = 11, >=0 && AnimElem = 12, < 0
trigger4 = AnimElem = 15, >=0 && AnimElem = 16, < 0
pos = -26,-64
[State 952, TBind4]
type = TargetBind
trigger1 = AnimElem = 4, >=0 && AnimElem = 5, < 0
trigger2 = AnimElem = 8, >=0 && AnimElem = 9, < 0
trigger3 = AnimElem = 12, >=0 && AnimElem = 13, < 0
trigger4 = AnimElem = 16, >=0
pos = 23,-62

[State 952, CameraController.Helper]
type = Helper
trigger1 = !time
name = "CameraControl"
stateno = 99999
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 99999
pausemovetime = 9999

[State 952, State]
type = ChangeState
trigger1 = pos y > 0
value = 954
[State 952, State2]
type = ChangeState
trigger1 = !animtime
value = 953
;-------------------------------------------------------------------------
; The Big Spin
[Statedef 953]
type = A
movetype = A
physics = N
anim = 953
sprpriority = 1

[State 953, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 953, SprPriority]
type = SprPriority
trigger1 = time % 8 = 2 || time % 8 = 4
value = 2
[State 953, SprPriority]
type = SprPriority
trigger1 = time % 8 = 0 || time % 8 = 6
value = 1

[State 953, TargetState]
type = TargetState
trigger1 = time % 8 = 2 || time % 8 = 4
value = 95038
[State 953, TargetState]
type = TargetState
trigger1 = time % 8 = 0 || time % 8 = 6
value = 95039

[State 953, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 953, PlaySND]
type = PlaySnd
trigger1 = time % 8 = 0
value = 202,0

[State 953, TBind1]
type = TargetBind
trigger1 = time % 8 = 0 || time % 8 = 1
pos = 36,-63
[State 953, TBind2]
type = TargetBind
trigger1 = time % 8 = 2 || time % 8 = 3
pos = -20,-66
[State 953, TBind3]
type = TargetBind
trigger1 = time % 8 = 4 || time % 8 = 5
pos = -26,-64
[State 953, TBind4]
type = TargetBind
trigger1 = time % 8 = 6 || time % 8 = 7
pos = 23,-62

[State 953, State]
type = ChangeState
trigger1 = pos y > 0
value = 954
;-------------------------------------------------------------------------
; The Big Spin Hit Ground
[Statedef 954]
type = L
movetype = I
physics = C
velset = 0,0
anim = 954
sprpriority = 2

[State 954, Damage]
type = TargetLifeAdd
trigger1 = !time
value = -85

[State 954, Sound]
type = PlaySnd
trigger1 = !time
value = 5110, 0

[State 954, Helper]
type = Helper
trigger1 = !time
name = "HitGround Effect"
stateno = 12800
postype = p1
pos = 28, 0
keyctrl = 0
ownpal = 0
id = 12800

[State 12800, Shake]
type = EnvShake
trigger1 = !time
Time = 30
freq = 60
ampl = -3

[State 954, Posset]
type = Posset
trigger1 = !time
y = 0

[State 954, TBind4]
type = TargetBind
trigger1 = !time
pos = 26,0

[State 954, Turn]
type = Turn
trigger1 = !animtime

[State 954, Voice]
type = PlaySnd
triggerall = var(41) = 1
trigger1 = !animtime
value = 3, 1
channel = 0
volume = 255

[State 954, State]
type = ChangeState
trigger1 = !animtime
value = 5120
;-------------------------------------------------------------------------
; Roll Away
[Statedef 955]
type = L
movetype = I
physics = C
velset = 0,0
anim = 955
sprpriority = 2

[State 955, Sound]
type = PlaySnd
trigger1 = !time
value = 5110, 0

[State 955, State]
type = ChangeState
trigger1 = !animtime
value = 5120
;-------------------------------------------------------------------------
; Spinning Slam P2 State1
[Statedef 95038]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 1

[State 95038, Animation]
type = ChangeAnim2
trigger1 = !time
value = 95038

[State 95038, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value	= 0

[State 95038, SelfState]
type = SelfState
trigger1 = Pos Y >= 0
value = 5100
;-------------------------------------------------------------------------
; Spinning Slam P2 State2
[Statedef 95039]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 2

[State 95039, Animation]
type = ChangeAnim2
trigger1 = !time
value = 95039

[State 95039, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value	= 0

[State 95039, SelfState]
type = SelfState
trigger1 = Pos Y >= 0
value = 5100
;---------------------------------------------------------------------------
;Rocket Punch L
[Statedef 1000]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1000
sprpriority=2

[State 1000, VarSet-Voice]
Type = VarRandom
Trigger1 = !time
v = 27
range = 0,2

[State 1000, Voice]
type = PlaySnd
triggerall = var(27)=1 && Var(38) < 30 
trigger1 = !time
value = 1,18
channel = 0
volume = 255
[State 1000, Voice2]
type = PlaySnd
triggerall = var(27)=2  && Var(38) < 30 
trigger1 = !time
value = 3,14
channel = 0
volume = 155
freqmul=0.9

[State 1000, Sound]
type = PlaySnd
trigger1 = animelem = 3
value = 1015, 0

[State 1000, Ki.Helper]
type = Helper
trigger1 = animelem = 3
name = "RocketFist-L"
stateno = 12150
postype = p1
pos = 51, -59
keyctrl = 0
ownpal = 1
id = 12150

[State 1000, VarSet.LRocketCoolDown]
type = Varset
trigger1 = animelem = 3
v = 37
value = 100

[State 1000, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Rocket Punch R
[Statedef 1002]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1002
sprpriority=1

[State 1002, VarSet-Voice]
Type = VarRandom
Trigger1 = !time
v = 27
range = 0,2

[State 1002, Voice]
type = PlaySnd
triggerall = var(27)=1 && Var(37) < 30 
trigger1 = !time
value = 1,18
channel = 0
volume = 255
[State 1002, Voice2]
type = PlaySnd
triggerall = var(27)=2  && Var(37) < 30 
trigger1 = !time
value = 3,14
channel = 0
volume = 155
freqmul=0.9

[State 1002, Sound]
type = PlaySnd
trigger1 = animelem = 3
value = 1015, 0

[State 1002, Ki.Helper]
type = Helper
trigger1 = animelem = 3
name = "RocketFist-L"
stateno = 12151
postype = p1
pos = 38, -69
keyctrl = 0
ownpal = 1
id = 12151

[State 1002, VarSet.RRocketCoolDown]
type = Varset
trigger1 = animelem = 3
v = 38
value = 100

[State 1002, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Double Arm Energy Cannon Prepare
[Statedef 1050]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1050
sprpriority=2

[State 1050, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 700, 0

[State 1050, ChangeAnim1]
type = ChangeAnim
triggerall = !time
trigger1 = var(37) > 0 || var(38) > 0
value = 1051

[State 1050, ChangeAnim2]
type = ChangeAnim
triggerall = !time
trigger1 = var(37) > 0 && var(38) > 0
value = 1052

[State 1050, VarSet-Voice]
Type = VarRandom
Trigger1 = !time
v = 27
range = 0,2

[State 1050, Voice]
type = PlaySnd
triggerall = var(27)=1 && Var(37) < 22 && Var(38) < 22
trigger1 = time = 8
value = 1,6
channel = 0
volume = 255
[State 1050, Voice2]
type = PlaySnd
triggerall = var(27)=2  && Var(37) < 22 && Var(38) < 22
trigger1 = time = 8
value = 3,9
channel = 0
volume = 255

[State 1002, VarSet.KiCannonChain]
type = VarSet
trigger1 = !time
v = 14
value = 0

[State 1050, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 1015, 1

[State 1050, End]
type = ChangeState
trigger1 = !animtime
value = 1051
;---------------------------------------------------------------------------
;Double Arm Energy Cannon Fire
[Statedef 1051]
type    = S
movetype= A
physics = S
poweradd= -100
anim = 1055
sprpriority=2

[State 2005, PlaySnd_Poom]
type = PlaySnd
trigger1 = !time
value = 1011, 1
volumescale = 50

[State 1051, Sound_Shoot]
type = PlaySnd
trigger1 = !time
value = 1011, 0

[State 1051, Ring]
type = Explod
trigger1 = !time
Anim = 12010
Pos = 29, -72
Id = 12010
sprpriority = 3
removeongethit = 0
Postype = p1
Bindtime = 1
ownpal = 1
scale = 0.5, 0.5

[State 1051, Burst]
type = Explod
trigger1 = !time
Anim = 12030
Pos = 29, -70
Id = 12030
sprpriority = 3
removeongethit = 0
Postype = p1
Bindtime = 1
ownpal = 1
scale = 0.5, 0.4

[State 1051, Ki.Helper]
type = Helper
trigger1 = !time
name = "KiCannonBall"
stateno = 12200
postype = p1
pos = 30, -69
keyctrl = 0
ownpal = 1
id = 12200

[State 1051, VarSet.KiCannonChain]
type = VarAdd
trigger1 = !time
v = 14
value = 1

[State 1051, TireOut]
type = ChangeState
trigger1 = power = 0 && time > 20
value = 5300

[State 1051, Repeat];Disabled
type = null;ChangeState
trigger1 = time > 15 && command = "z" && var(14) < 3
value = 1051

[State 1051, End]
type = ChangeState
triggerall=power>0
trigger1 = !animtime
value = 1055

[State 1050, End.Tired]
type = ChangeState
triggerall=power<=0
trigger1 = !animtime
value = 5300
;---------------------------------------------------------------------------
;Double Arm Energy Cannon End
[Statedef 1055]
type    = S
movetype= A
physics = S
poweradd= 0
anim = 1056
sprpriority=2

[State 1055, Sound]
type = PlaySnd
trigger1 = animelem = 4
value = 700, 1

[State 1055, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Shoulder Bash 1 Short
[Statedef 1300]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = 60
sprpriority = 2
anim = 1300

[State 1300, Anim.Chain]
type = ChangeAnim
triggerall = !time
trigger1 = (prevstateno = 200 || prevstateno = 210 || prevstateno = 220 || prevstateno = 230 || prevstateno = 240 || prevstateno = 250)
trigger2 = (prevstateno = 400 || prevstateno = 410 || prevstateno = 420 || prevstateno = 430 || prevstateno = 440 || prevstateno = 450 || prevstateno = 460)
value = 1305

[State 1300, Swing]
type = PlaySnd
trigger1 = animelem = 3
value = 210, 0

[State 1300, Voice]
type = PlaySnd
triggerall = random < 200
trigger1 = !time
value = 1, 2
channel = 0
volume = 255

[State 1300, VelSet]
type = Velset
trigger1 = animelem = 3,=[0,2]
x = 10.0

[State 1300, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 12
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 1300, KickDust]
type = Explod
trigger1 = animelem = 3
Anim = 15010
Pos = -9, 1-floor(pos y)
Id = 15010
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.25,0.25

[State 1300, MakeDust]
type = Explod
triggerall = !movecontact
trigger1 = time >= 17 && time%2
Anim = 15310+Var(41)
Pos = -40, -1-floor(pos y)
Id = 15310
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.5,0.5

[State 1300, Hitdef]
type = HitDef
trigger1 = !time
attr = S, SA
animtype  = Hard
damage    = 50,10
guardflag = MA
pausetime = 15,18
sparkno = 2
sparkxy = -17,-62
hitsound   = S302,0
guardsound = 6,0
ground.type = High
ground.slidetime = 26
ground.hittime  = 26
ground.velocity = -16
air.velocity = -7,-4
air.fall = 1
ground.cornerpush.veloff = 0
envshake.time = 12
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 1300, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Shoulder Bash 1 Medium
[Statedef 1301]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = 67
sprpriority = 2
anim = 1301

[State 1301, Anim.Chain]
type = ChangeAnim
triggerall = !time
trigger1 = (prevstateno = 200 || prevstateno = 210 || prevstateno = 220 || prevstateno = 230 || prevstateno = 240 || prevstateno = 250)
trigger2 = (prevstateno = 400 || prevstateno = 410 || prevstateno = 420 || prevstateno = 430 || prevstateno = 440 || prevstateno = 450 || prevstateno = 460)
value = 1306

[State 1301, Swing]
type = PlaySnd
trigger1 = animelem = 3
value = 210, 0

[State 1301, Voice]
type = PlaySnd
triggerall = random < 200
trigger1 = !time
value = 1, 2
channel = 0
volume = 255

[State 1301, VelSet]
type = Velset
trigger1 = animelem = 3,=[0,3]
x = 10.0

[State 1301, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 12
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 1301, KickDust]
type = Explod
trigger1 = animelem = 3
Anim = 15010
Pos = -9, 1-floor(pos y)
Id = 15010
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.275,0.275

[State 1301, MakeDust]
type = Explod
triggerall = !movecontact
trigger1 = time >= 21 && time%2
Anim = 15310+Var(41)
Pos = -40, -1-floor(pos y)
Id = 15310
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.5,0.5

[State 1301, Hitdef]
type = HitDef
trigger1 = !time
attr = S, SA
animtype  = Hard
damage    = 61,12
guardflag = MA
pausetime = 15,18
sparkno = 2
sparkxy = -17,-62
hitsound   = S302,0
guardsound = 6,0
ground.type = High
ground.slidetime = 26
ground.hittime  = 26
ground.velocity = -17
air.velocity = -7,-4
air.fall = 1
ground.cornerpush.veloff = 0
envshake.time = 14
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 1301, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Shoulder Bash 1 Long
[Statedef 1302]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = 75
sprpriority = 2
anim = 1302

[State 1302, Anim.Chain]
type = ChangeAnim
triggerall = !time
trigger1 = (prevstateno = 200 || prevstateno = 210 || prevstateno = 220 || prevstateno = 230 || prevstateno = 240 || prevstateno = 250)
trigger2 = (prevstateno = 400 || prevstateno = 410 || prevstateno = 420 || prevstateno = 430 || prevstateno = 440 || prevstateno = 450 || prevstateno = 460)
value = 1306

[State 1302, Swing]
type = PlaySnd
trigger1 = animelem = 3
value = 210, 0

[State 1302, Voice]
type = PlaySnd
triggerall = random < 200
trigger1 = !time
value = 1, 2
channel = 0
volume = 255

[State 1302, VelSet]
type = Velset
trigger1 = animelem = 3,=[0,4]
x = 11.0

[State 1302, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 12
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 1302, KickDust]
type = Explod
trigger1 = animelem = 3
Anim = 15010
Pos = -9, 1-floor(pos y)
Id = 15010
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.3,0.3

[State 1302, MakeDust]
type = Explod
triggerall = !movecontact
trigger1 = time >= 22 && time%2
Anim = 15310+Var(41)
Pos = -40, -1-floor(pos y)
Id = 15310
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.5,0.5

[State 1302, Hitdef]
type = HitDef
trigger1 = !time
attr = S, SA
animtype  = Hard
damage    = 72,14
guardflag = MA
pausetime = 15,18
sparkno = 2
sparkxy = -17,-62
hitsound   = S302,0
guardsound = 6,0
ground.type = High
ground.slidetime = 26
ground.hittime  = 26
ground.velocity = -18
air.velocity = -7,-4
air.fall = 1
ground.cornerpush.veloff = 0
envshake.time = 14
envshake.freq = 140
envshake.ampl = -5
envshake.phase = 90

[State 1302, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Shoulder Bash 2
[Statedef 1310]
type    = S
movetype= A
physics = S
juggle  = 0
velset = (vel x),0     
ctrl = 0  
poweradd = 55
sprpriority = 2
anim = 1310

[State 1310, Swing]
type = PlaySnd
trigger1 = animelem = 3
value = 210, 0

[State 1310, Voice]
type = PlaySnd
triggerall = random < 200
trigger1 = !time
value = 1, 2
channel = 0
volume = 255

[State 1310, VelSet]
type = Velset
trigger1 = animelem = 3,=[0,3]
x = 12.0

[State 1310, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 12
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 1310, KickDust]
type = Explod
trigger1 = animelem = 3
Anim = 15010
Pos = -9, 1-floor(pos y)
Id = 15010
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.275,0.275

[State 1310, MakeDust]
type = Explod
triggerall = !movecontact
trigger1 = time >= 12 && time%2=0
Anim = 15310+Var(41)
Pos = -40, -1-floor(pos y)
Id = 15310
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.5,0.5

[State 1310, Hitdef]
type = HitDef
trigger1 = !time
attr = S, SA
animtype  = Back
damage    = 25,6
guardflag = MA
pausetime = 15,18
sparkno = 2
sparkxy = -17,-48
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 26
ground.hittime  = 26
ground.velocity = -7.4,-5.3
air.velocity = -7.4,-5.3
fall = 1
air.fall = 1
ground.cornerpush.veloff = 0
envshake.time = 8
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 1310, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Spin Kick
[Statedef 1315]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 55
ctrl = 0
sprpriority = 2
anim = 1315

[State 1315, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0

[State 1315, Voice]
type = PlaySnd
triggerall = random < 400
trigger1 = !time
value = 1, 6
channel = 0
volume = 255

[State 1310, VelSet]
type = Velset
trigger1 = animelem = 2,=[2,3]
trigger2 = animelem = 3,=[0,1]
x = 7.0

[State 1315, AfterImage]
type = AfterImage
trigger1 = time = 2
time = 24
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 1315, HitDef]
type = HitDef
trigger1 = !time
attr = S, NA
animtype  = Back
damage    = 30,10
hitflag = MAF
guardflag = MA
pausetime = 15,20
sparkno = 2
sparkxy = -23,-58
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -7.5,-5.3
air.velocity = -7.5,-5.3
fall = 1
air.fall = 1
envshake.time = 12
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 1315, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Fierce Charge
[Statedef 1319]
type    = S
movetype= A
physics = S
juggle  = 0
velset = (vel x),0     
ctrl = 0  
poweradd = -100
sprpriority = 2
anim = 1319

[State 1319, Swing]
type = PlaySnd
trigger1 = animelem = 3
value = 210, 0

[State 1319, Voice]
type = PlaySnd
triggerall = random < 600
trigger1 = !time
value = 1, 3
channel = 0
volume = 255

[State 1319, VelSet]
type = Velset
triggerall = !movecontact
trigger1 = animelem = 3,=[0,12]
x = 15.0

[State 1319, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 12
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 1319, PunchEffect.Helper]
type = Helper
trigger1 = animelem = 3
name = "FPunchFX"
stateno = 12600
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 12600
pausemovetime = 9999
size.xscale = 0.5

[State 1319, Hitdef]
type = HitDef
trigger1 = !time
attr = S, SA
animtype  = Back
damage    = 45,9
guardflag = MA
pausetime = 31,31
sparkno = 2
sparkxy = -17,-48
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 26
ground.hittime  = 22
ground.velocity = -7.4,-3.5
air.velocity = -7.4,-3.5
fall = 1
air.fall = 1
ground.cornerpush.veloff = 0
envshake.time = 16
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 2900, NoPush]
type = PlayerPush
trigger1 = movehit=1
value = 0
ignorehitpause=1
pausemovetime = 9999

[State 1319, TargetBind]
type = TargetBind
trigger1 = movehit=1
pos = 70, -5
ignorehitpause=1
pausemovetime = 9999

[State 1319, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Heavy Striker-Counter State
[Statedef 1320]
type    = S
movetype= I
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = -250
sprpriority = 2
anim = 1320

[State 1320, Ring]
type = Explod
trigger1 = !(time%12)
Anim = 10011
Pos = -3, 0
Id = 10011
sprpriority = -1
removeongethit = 1
Postype = p1
Bindtime = 1
ownpal = 1
scale = 0.50, 0.50

[State 1320, Sound]
type = PlaySnd
trigger1 = !time
value = 1401,0
volume = 255

[State 1320, ElecA]
type = Explod
trigger1 = !time
Anim = 10020
Pos = 17, -16
Id = 10020
sprpriority = 3
removeongethit = 1
removetime = 18
bindtime = 1
Postype = p1
ownpal = 1
scale = 0.7, 0.7

[State 1320, ElecC]
type = Explod
trigger1 = time = 8
Anim = 10022
Pos = -25,-50
Id = 10022
sprpriority = 3
removeongethit = 1
removetime = 20
bindtime = 1
Postype = p1
ownpal = 1
scale = 0.7, 0.7

[State 1320, ElecD]
type = Explod
trigger1 = time = 16
Anim = 10023
Pos = -11,-16
Id = 10023
sprpriority = 3
removeongethit = 1
removetime = 18
bindtime = 1
Postype = p1
ownpal = 1
scale = 0.7, 0.7

[State 1320, PoseSND]
type = PlaySnd
trigger1 = !time
value = 101, 0

[State 1320, VarSet]
type = Varset
triggerall = Var(4) = 0
trigger1 = !time
v = 12
value = 180

[State 1320, VarAdd]
type = VarAdd
triggerall = Var(4) = 0
trigger1 = (time = [0,30])
v = 12
value = -6

[State 1320, PalFX]
type = PalFX
triggerall = Var(4) = 0
trigger1 = Time = [0,29]
time = 1
add = 0,0,(var(12))

[State 1320, GetHit]
type = HitOverride
trigger1 = 1
time = 1
attr = SCA, NA, NP, SA, SP
slot = 0
stateno = 1321

[State 1320, End]
type = ChangeState
trigger1 = time = 36
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Heavy Strike 
[Statedef 1321]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = 60
sprpriority = 2
anim = 1321

[State 1321, Swirly.Helper]
type = Helper
trigger1 = !time
name = "CounterFX"
stateno = 12330
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 12330

[State 1320, Ring]
type = Explod
trigger1 = animelem = 2
Anim = 12695
Pos = 35, -30
Id = 12695
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = 1
ownpal = 1
scale = 0.30, 0.30

[State 1321, Pause]
type = Pause
trigger1 = !time
time = 6


[State 1321, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0

[State 1321, Voice]
type = PlaySnd
triggerall = random < 200
trigger1 = !time
value = 1, 2
channel = 0
volume = 255

[State 1321, VelSet]
type = Velset
trigger1 = animelem = 2,=[0,1]
x = 4.0

[State 1321, AfterImage]
type = AfterImage
trigger1 = time=1
time = 12
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 1321, Hitdef]
type = HitDef
trigger1 = !time
attr = S, SA
animtype  = Hard
damage    = 30,6
guardflag = MA
pausetime = 14,12
sparkno = 2
sparkxy = -8,-42
hitsound   = S303,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -4,8
air.velocity = -2,12
fall =1
down.bounce = 1
fall.xvelocity = -4
fall.yvelocity = -9
envshake.time = 15
envshake.freq = 140
envshake.ampl = -5
envshake.phase = 90
id = 1321

[State 1321, End]
type = ChangeState
trigger1 = movehit && time >= 16
value = 901

[State 1321, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Rocket Powered Headbutt - W
[Statedef 1400]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
sprpriority = 2
anim = 1400

[State 1400, Anim.Chain]
type = ChangeAnim
triggerall = !time
trigger1 = (prevstateno = 200 || prevstateno = 210 || prevstateno = 220 || prevstateno = 230 || prevstateno = 240 || prevstateno = 250)
trigger2 = (prevstateno = 400 || prevstateno = 410 || prevstateno = 420 || prevstateno = 430 || prevstateno = 440 || prevstateno = 450 || prevstateno = 460)
value = 1420

[State 1404, PowerAdd]
type = PowerAdd
trigger1 = !time
value = ifelse(anim=1420,64,70)

[State 1400, Next]
type = ChangeState
trigger1 = !animtime
value = 1401
ctrl = 1

;---------------------------------------------------------------------------
; Rocket Head Butt - W
[Statedef 1401]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0     
ctrl = 0  
sprpriority = 2
anim = 1401

[State 1401, NoPush]
type = PlayerPush
trigger1 = movehit=1
value = 0
ignorehitpause=1
pausemovetime = 9999

[State 1401, Swing]
type = PlaySnd
trigger1 = !time
value = 705, 1


[State 1401, RocketSound]
type = PlaySnd
trigger1 = !time
value = 705, 0

[State 1401, Voice]
type = PlaySnd
triggerall = random < 320
trigger1 = !time
value = 1, 2
channel = 0
volume = 255

[State 1401, VelSet]
type = Velset
trigger1 = !time
x = 8.0
y = -5.5

[State 1401, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 28
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 1401, Smoke]
type = Explod
triggerall = movecontact!=[1,2]
trigger1 = time%2=1
Anim = 15320+random%4
Pos = 3, -40
Id = 15320
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.3,0.3
vel = (-3+random%7)*0.5,(-3+random%7)*0.5
accel = -(-3+random%7)*0.043,-(-3+random%7)*0.043


[State 1401, Hitdef]
type = HitDef
trigger1 = !time
attr = S, SA
animtype  = Hard
damage    = 60,12
guardflag = MA
pausetime = 13,18
sparkno = 2
sparkxy = -17,-62
hitsound   = S302,0
guardsound = 6,0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -10,0
air.velocity = -7,-6
air.fall = 1
ground.cornerpush.veloff = 0
envshake.time = 12
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90
hitonce = 1

[State 1401, Gravity]
type = Gravity
trigger1 = time >= 3

[State 1401, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 1401, End]
type = ChangeState
trigger1 = (pos y = 0 && time >= 1) || time > 16
value = 1408
;---------------------------------------------------------------------------
; Rocket Powered Headbutt - M
[Statedef 1402]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
sprpriority = 2
anim = 1402

[State 1402, Anim.Chain]
type = ChangeAnim
triggerall = !time
trigger1 = (prevstateno = 200 || prevstateno = 210 || prevstateno = 220 || prevstateno = 230 || prevstateno = 240 || prevstateno = 250)
trigger2 = (prevstateno = 400 || prevstateno = 410 || prevstateno = 420 || prevstateno = 430 || prevstateno = 440 || prevstateno = 450 || prevstateno = 460)
value = 1420

[State 1404, PowerAdd]
type = PowerAdd
trigger1 = !time
value = ifelse(anim=1420,62,78)

[State 1402, Next]
type = ChangeState
trigger1 = !animtime
value = 1403
ctrl = 1
;---------------------------------------------------------------------------
; Rocket Head Butt - M
[Statedef 1403]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0     
ctrl = 0  
sprpriority = 2
anim = 1401

[State 1403, NoPush]
type = PlayerPush
trigger1 = movehit=1
value = 0
ignorehitpause=1
pausemovetime = 9999

[State 1403, Swing]
type = PlaySnd
trigger1 = !time
value = 705, 1

[State 1403, RocketSound]
type = PlaySnd
trigger1 = !time
value = 705, 0

[State 1403, Voice]
type = PlaySnd
triggerall = random < 360
trigger1 = !time
value = 1, 2
channel = 0
volume = 255

[State 1403, VelSet]
type = Velset
trigger1 = !time
x = 8.6
y = -5.65

[State 1403, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 31
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 1403, Smoke]
type = Explod
triggerall = movecontact!=[1,2]
trigger1 = time%2=1
Anim = 15320+random%4
Pos = 3, -40
Id = 15320
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.3,0.3
vel = (-3+random%7)*0.5,(-3+random%7)*0.5
accel = -(-3+random%7)*0.043,-(-3+random%7)*0.043

[State 1403, Hitdef]
type = HitDef
trigger1 = !time
attr = S, SA
animtype  = Hard
damage    = 60,12
guardflag = MA
pausetime = 13,18
sparkno = 2
sparkxy = -17,-62
hitsound   = S302,0
guardsound = 6,0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -10,0
air.velocity = -7,-6
air.fall = 1
ground.cornerpush.veloff = 0
envshake.time = 12
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90
hitonce = 1

[State 1403, Gravity]
type = Gravity
trigger1 = time >= 3

[State 1403, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 1403, End]
type = ChangeState
trigger1 = (pos y = 0 && time >= 1) || time > 18
value = 1408
;---------------------------------------------------------------------------
; Rocket Powered Headbutt - S
[Statedef 1404]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
sprpriority = 2
anim = 1404

[State 1404, Anim.Chain]
type = ChangeAnim
triggerall = !time
trigger1 = (prevstateno = 200 || prevstateno = 210 || prevstateno = 220 || prevstateno = 230 || prevstateno = 240 || prevstateno = 250)
trigger2 = (prevstateno = 400 || prevstateno = 410 || prevstateno = 420 || prevstateno = 430 || prevstateno = 440 || prevstateno = 450 || prevstateno = 460)
value = 1420

[State 1404, PowerAdd]
type = PowerAdd
trigger1 = !time
value = ifelse(anim=1420,60,86)

[State 1404, Next]
type = ChangeState
trigger1 = !animtime
value = 1405
ctrl = 1
;---------------------------------------------------------------------------
; Rocket Head Butt - S
[Statedef 1405]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0     
ctrl = 0  
sprpriority = 2
anim = 1401

[State 1405, NoPush]
type = PlayerPush
trigger1 = movehit=1
value = 0
ignorehitpause=1
pausemovetime = 9999

[State 1405, Swing]
type = PlaySnd
trigger1 = !time
value = 705, 1

[State 1405, RocketSound]
type = PlaySnd
trigger1 = !time
value = 705, 0

[State 1405, Voice]
type = PlaySnd
triggerall = random < 400
trigger1 = !time
value = 1, 2
channel = 0
volume = 255

[State 1405, VelSet]
type = Velset
trigger1 = !time
x = 9.4
y = -5.8

[State 1405, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 34
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 1405, Smoke]
type = Explod
triggerall = movecontact!=[1,2]
trigger1 = time%2=1
Anim = 15320+random%4
Pos = 3, -40
Id = 15320
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.3,0.3
vel = (-3+random%7)*0.5,(-3+random%7)*0.5
accel = -(-3+random%7)*0.043,-(-3+random%7)*0.043

[State 1405, Hitdef]
type = HitDef
trigger1 = !time
attr = S, SA
animtype  = Hard
damage    = 60,12
guardflag = MA
pausetime = 13,18
sparkno = 2
sparkxy = -17,-62
hitsound   = S302,0
guardsound = 6,0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -10,0
air.velocity = -7,-6
air.fall = 1
ground.cornerpush.veloff = 0
envshake.time = 12
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90
hitonce = 1

[State 1405, Gravity]
type = Gravity
trigger1 = time >= 3

[State 1405, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 1405, End]
type = ChangeState
trigger1 = (pos y = 0 && time >= 1) || time > 20
value = 1408
;---------------------------------------------------------------------------
; Rocket Head Butt - Roll
[Statedef 1408]
type    = A
movetype= I
physics = N
juggle  = 0   
ctrl = 0  
sprpriority = 2
anim = 1408
velset = vel x * 0.7, vel y

[State 1408, NoPush]
type = PlayerPush
trigger1 = 1
value = 0
pausemovetime = 9999

[State 1408, PosAdd]
type = PosAdd
trigger1 = !time
y = -10

[State 1408, HitRocks_sound]
type = PlaySnd
trigger1 = pos y >= 0 && vel y > 0.1
value = 706, 0
volume = 255

[State 1408, VelSet]
type = VelSet
trigger1 = pos y >= 0
y = 0

[State 1408, Gravity]
type = Gravity
triggerall = pos y < 0
trigger1 = 1

[State 1408, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 1408, End]
type = ChangeState
trigger1 = pos y = 0 && !animtime
value = 1409
;---------------------------------------------------------------------------
; Rocket Head Butt - Stand Up
[Statedef 1409]
type    = C
movetype= I
physics = C
juggle  = 0   
ctrl = 0  
sprpriority = 2
anim = 1409

[State 1408, End]
type = ChangeState
trigger1 = !animtime
value = 12
ctrl = 1
;---------------------------------------------------------------------------
; Rocket Powered Headbutt from Wall - W
[Statedef 1410]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = 70
sprpriority = 2
anim = 1410

[State 1410, PosAdd]
type = PosAdd
trigger1 = !animtime
y = -20

[State 1410, Next]
type = ChangeState
trigger1 = !animtime
value = 1411
ctrl = 1
;---------------------------------------------------------------------------
; Rocket Head Butt from Wall - W
[Statedef 1411]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0     
ctrl = 0  
sprpriority = 2
anim = 1411

[State 1411, NoPush]
type = PlayerPush
trigger1 = movehit=1
value = 0
ignorehitpause=1
pausemovetime = 9999

[State 1411, Swing]
type = PlaySnd
trigger1 = !time
value = 705, 1

[State 1411, RocketSound]
type = PlaySnd
trigger1 = !time
value = 705, 0

[State 1411, Voice]
type = PlaySnd
triggerall = random < 320
trigger1 = !time
value = 1, 2
channel = 0
volume = 255

[State 1411, VelSet]
type = Velset
trigger1 = !time
x = 10.0
y = -6.8

[State 1411, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 28
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 1411, Smoke]
type = Explod
triggerall = movecontact!=[1,2]
trigger1 = time%2=1
Anim = 15320+random%4
Pos = 3, -40
Id = 15320
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.3,0.3
vel = (-3+random%7)*0.5,(-3+random%7)*0.5
accel = -(-3+random%7)*0.043,-(-3+random%7)*0.043

[State 1411, Hitdef]
type = HitDef
trigger1 = !time
attr = S, SA
animtype  = Hard
damage    = 60,12
guardflag = MA
pausetime = 13,18
sparkno = 2
sparkxy = -17,-62
hitsound   = S302,0
guardsound = 6,0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -10,0
air.velocity = -7,-6
air.fall = 1
ground.cornerpush.veloff = 0
envshake.time = 12
envshake.freq = 141
envshake.ampl = -4
envshake.phase = 90
hitonce = 1

[State 1411, Gravity]
type = Gravity
trigger1 = time >= 3

[State 1411, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 1411, End]
type = ChangeState
trigger1 = (pos y = 0 && time >= 1) || time > 20
value = 1408
;---------------------------------------------------------------------------
; Rocket Powered Headbutt from Wall - M
[Statedef 1412]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = 75
sprpriority = 2
anim = 1412

[State 1412, PosAdd]
type = PosAdd
trigger1 = !animtime
y = -20

[State 1412, Next]
type = ChangeState
trigger1 = !animtime
value = 1413
ctrl = 1

;---------------------------------------------------------------------------
; Rocket Head Butt from Wall - M
[Statedef 1413]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0     
ctrl = 0  
sprpriority = 2

[State 1413, AngleSet]
type = Angleset
trigger1 = !time
value = -7
[State 1413, AngleDraw]
type = AngleDraw
trigger1 = 1
ignorehitpause = 1

[State 1413, Anim]
type = ChangeAnim
trigger1 = !time
value = 1411

[State 1413, NoPush]
type = PlayerPush
trigger1 = movehit=1
value = 0
ignorehitpause=1
pausemovetime = 9999

[State 1413, Swing]
type = PlaySnd
trigger1 = !time
value = 705, 1

[State 1413, RocketSound]
type = PlaySnd
trigger1 = !time
value = 705, 0

[State 1413, Voice]
type = PlaySnd
triggerall = random < 320
trigger1 = !time
value = 1, 2
channel = 0
volume = 255

[State 1413, VelSet]
type = Velset
trigger1 = !time
x = 11.0
y = -6.0

[State 1413, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 28
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 1413, Smoke]
type = Explod
triggerall = movecontact!=[1,2]
trigger1 = time%2=1
Anim = 15320+random%4
Pos = 3, -40
Id = 15320
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.3,0.3
vel = (-3+random%7)*0.5,(-3+random%7)*0.5
accel = -(-3+random%7)*0.043,-(-3+random%7)*0.043

[State 1413, Hitdef]
type = HitDef
trigger1 = !time
attr = S, SA
animtype  = Hard
damage    = 60,12
guardflag = MA
pausetime = 13,18
sparkno = 2
sparkxy = -17,-62
hitsound   = S302,0
guardsound = 6,0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -10,0
air.velocity = -7,-6
air.fall = 1
ground.cornerpush.veloff = 0
envshake.time = 12
envshake.freq = 141
envshake.ampl = -4
envshake.phase = 90
hitonce = 1

[State 1413, Gravity]
type = Gravity
trigger1 = time >= 3

[State 1413, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 1413, End]
type = ChangeState
trigger1 = (pos y = 0 && time >= 1) || time > 21
value = 1408
;---------------------------------------------------------------------------
; Rocket Powered Headbutt from Wall - S
[Statedef 1414]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = 80
sprpriority = 2
anim = 1414

[State 1414, PosAdd]
type = PosAdd
trigger1 = !animtime
y = -20

[State 1414, Next]
type = ChangeState
trigger1 = !animtime
value = 1415
ctrl = 1

;---------------------------------------------------------------------------
; Rocket Head Butt from Wall - S
[Statedef 1415]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0     
ctrl = 0  
sprpriority = 2

[State 1415, AngleSet]
type = Angleset
trigger1 = !time
value = -15
[State 1415, AngleDraw]
type = AngleDraw
trigger1 = 1
ignorehitpause = 1

[State 1415, Anim]
type = ChangeAnim
trigger1 = !time
value = 1411

[State 1415, NoPush]
type = PlayerPush
trigger1 = movehit=1
value = 0
ignorehitpause=1
pausemovetime = 9999

[State 1415, Swing]
type = PlaySnd
trigger1 = !time
value = 705, 1

[State 1415, RocketSound]
type = PlaySnd
trigger1 = !time
value = 705, 0

[State 1415, Voice]
type = PlaySnd
triggerall = random < 320
trigger1 = !time
value = 1, 2
channel = 0
volume = 255

[State 1415, VelSet]
type = Velset
trigger1 = !time
x = 12.0
y = -5.2

[State 1415, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 28
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 1415, Smoke]
type = Explod
triggerall = movecontact!=[1,2]
trigger1 = time%2=1
Anim = 15320+random%4
Pos = 3, -40
Id = 15320
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.3,0.3
vel = (-3+random%7)*0.5,(-3+random%7)*0.5
accel = -(-3+random%7)*0.043,-(-3+random%7)*0.043

[State 1415, Hitdef]
type = HitDef
trigger1 = !time
attr = S, SA
animtype  = Hard
damage    = 60,12
guardflag = MA
pausetime = 13,18
sparkno = 2
sparkxy = -17,-62
hitsound   = S302,0
guardsound = 6,0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -10,0
air.velocity = -7,-6
air.fall = 1
ground.cornerpush.veloff = 0
envshake.time = 12
envshake.freq = 141
envshake.ampl = -4
envshake.phase = 90
hitonce = 1

[State 1415, Gravity]
type = Gravity
trigger1 = time >= 3

[State 1415, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 1415, End]
type = ChangeState
trigger1 = (pos y = 0 && time >= 1) || time > 22
value = 1408
;-------------------------------------------------------------------------
; Charge Power Start
[Statedef 1700]
type = S
physics = S
velset = 0,0
ctrl = 0
anim = 1700

[State 1700, VelSetY]
Type = VelSet
trigger1 = !time 
y = 0

[State 1700, Limit]
type = null;ChangeState
trigger1 = Power >= 3000
value = 0
ctrl = 1

[State 1700, Next]
type = ChangeState
trigger1 = !animtime
value = 1701
ctrl = 1
;-------------------------------------------------------------------------
; Charge Power Charging
[Statedef 1701]
type = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 1701

[State 1701, PlaySND]
type = PlaySnd
trigger1 = !time
value = 1701, 0

[State 1701, AuraSND]
type = PlaySnd
trigger1 = TimeMod = 26,0
value = 1700,1
volumescale = 25

[State 1701, BackDust]
type = Explod
triggerall = pos y = 0
trigger1 = !time
Anim = 15000
Pos = -50, 0
Id = 15000
sprpriority = -1
removeongethit = 0
removetime = 28
Postype = p1
ownpal = 1
velocity = -2,0
scale = 0.4,0.4

[State 1701, FwdDust]
type = Explod
triggerall = pos y = 0
trigger1 = !time
Anim = 15001
Pos = 50, 0
Id = 15001
sprpriority = -1
removeongethit = 0
removetime = 28
Postype = p1
ownpal = 1
velocity = 2, 0
scale = 0.4,0.4

[State 1701, Elec1]
type = Explod
triggerall = time 
trigger1 = time % 3 = 0
Anim = 10040+random%2
Postype = p1
Pos = -8+random%17, -89+random%78
Id = 10040
sprpriority = 3
removeongethit = 1
Bindtime = -1
scale = 0.5,0.5
ownpal = 1

[State 1701, Elec2]
type = Explod
trigger1 = random % 25 = 0
Anim = 10042+random%2
Postype = p1
Pos = -10+random%21, -52+random%50
velocity = 0,(-1-(random%5*0.25))
Id = 10042
sprpriority = 3
removeongethit = 1
Bindtime = 1
scale = 0.5,0.5
ownpal = 1

[State 5301, Disperse.Helper]
type = Helper
trigger1 = time=16
name = "EnergyDisperse"
stateno = 14510
postype = p1
pos = 9, -55
ownpal = 1
id = 14510
supermovetime  = 9999
pausemovetime  = 9999

[State 1701, VarSet]
type = Varset
trigger1 = !time
fv = 10
value = 0

[State 1701, VarAdd]
type = VarSet
trigger1 = 1
fv = 10
value = 45*sin(time*0.001)

[state 1701, ColorFX]
type = PalFX
trigger1 = 1
time = 1
add = floor(45-fvar(10)),floor(45-fvar(10)),floor(45-fvar(10))

[State 1701, Shake]
type = EnvShake
trigger1 = time%8=0
Time = 8
freq = 60
ampl = -2
phase = 0

[State 1701, PowerAdd]
type = PowerAdd
trigger1 = time
value = 5

[State 1701, LifeAdd]
type = LifeAdd
trigger1 = Time%7=0
value = 1

[State 1701, Stop.Next]
type = ChangeState
trigger1 = (command != "hold_a" && command != "hold_b") && !animtime
trigger2 = Power >= 3000
value = 1702
;-------------------------------------------------------------------------
; Charge Power Over
[Statedef 1702]
type = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 1702

[State 1701, Voice]
type = PlaySnd
trigger1 = !time && power >= 3000 && random < 333
value = 3,6

[State 1701, PlaySND]
type = PlaySnd
trigger1 = !time && power >= 3000
value = 1702,0

[State 1702, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Double Armed Vulcan Cannnon
[Statedef 1800]
type    = S
movetype= A
physics = S
poweradd= -1000
ctrl = 0
velset = 0
anim = 1800

[State 1800, VarSet-Voice]
Type = VarRandom
Trigger1 = !time
v = 27
range = 0,2

[State 1800, SuperPause]
type = SuperPause
trigger1 = !time
time = 40
anim = S12411
sound = S1800,0
pos = -26,-58
darken = 0
unhittable = 1

[State 1800, VelSetY]
Type = VelSet
trigger1 = !time 
y = 0

[State 1800, Voice]
type = PlaySnd
trigger1 = !time
value = 3,13
volume = 255

[State 1800, BlackFade]
type = Explod
trigger1 = !time
Anim = 19001
Pos = -50, -50
Id = 19001
sprpriority = -99999999
removeongethit = 1
Postype = left
Bindtime = 1
ownpal = 1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1
scale = 2, 2

[State 1800, Voice1]
type = PlaySnd
trigger1 = !time && var(27) <= 1
value = 1, 9
channel = 0
volume = 255

[State 1800, Voice2]
type = PlaySnd
trigger1 = !time && var(27) = 2
value = 2, 4
channel = 0
volume = 255

[State 1800, End]
type = ChangeState
trigger1 = Time = 1 
value = 1801
ctrl = 1
;---------------------------------------------------------------------------
;Vulcan Cannon Fire
[Statedef 1801]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
sprpriority = 0
anim = 1801

[State 1801, Wind]
type = Explod
triggerall = pos y > -3
trigger1 = time = 8
Anim = 15181
Pos = -34, 9
velocity = 0,0
Id = 15180
sprpriority = 4
removeongethit = 1
Postype = p1
Bindtime = 1
ownpal = 1
scale = 0.60, 0.60

[State 1801, Sound]
type = PlaySnd
trigger1 = !time
value = 1900,0
volume = 255

[State 1801, Shake]
type = EnvShake
trigger1 = !time
Time = 18

[State 1801, EnergyShield.Helper]
type = Helper
trigger1 = !time
name = "LaserBall"
stateno = 12250
postype = p1
pos = -10, -65
keyctrl = 0
ownpal = 1
id = 12250
size.xscale = 0.5
size.yscale = 0.5

[State 1801, Tired]
type = ChangeState
trigger1 = !animtime && power = 0
value = 5300
ctrl = 1

[State 1801, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = -1,-1
value	= 1

[State 1801, End]
type = ChangeState
trigger1 = Time = 93
value	= 0
ctrl = 1
;---------------------------------------------------------------------------
;Countdown
[Statedef 1900]
type    = S
movetype= A
physics = S
poweradd= -1000
ctrl = 0
velset = 0
anim = 1900

[State 1900, SuperPause]
type = SuperPause
trigger1 = !time
time = 40
anim = S12411
sound = S1800,0
pos = -26,-58
darken = 0
unhittable = 1

[State 1900, VelSetY]
Type = VelSet
trigger1 = !time 
y = 0

[State 1900, Voice]
type = PlaySnd
trigger1 = !time
value = 3,13
volume = 255

[State 1900, BlackFade]
type = Explod
trigger1 = !time
Anim = 19001
Pos = -50, -50
Id = 19001
sprpriority = -99999999
removeongethit = 1
Postype = left
Bindtime = 1
ownpal = 1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1
scale = 2, 2

[State 1900, End]
type = ChangeState
trigger1 = Time = 1 
value = 1901
ctrl = 1
;---------------------------------------------------------------------------
;Countdown Rocket Punches
[Statedef 1901]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
sprpriority = 0
anim = 1901

[State 1901, Shake]
type = EnvShake
trigger1 = !time
Time = 18

[State 1901, Sound]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 7
value = 1015, 0

[State 1901, RFL.Helper]
type = Helper
trigger1 = animelem = 3
name = "SuperRocketFist-L"
stateno = 12170
postype = p1
pos = 52, -66
keyctrl = 0
ownpal = 1
id = 12170

[State 1901, SprPriority]
type = SprPriority
trigger1 = animelem = 7
value = 2

[State 1901, RFR.Helper]
type = Helper
trigger1 = animelem = 7
name = "SuperRocketFist-R"
stateno = 12171
postype = p1
pos = 62, -61
keyctrl = 0
ownpal = 1
id = 12171

[State 1901, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = -1,-1
value	= 1

[State 1901, End]
type = ChangeState
trigger1 = !animtime
value	= 1902
;---------------------------------------------------------------------------
;Countdown Machine Gun
[Statedef 1902]
type    = S
movetype= A
physics = S
poweradd= 0
velset = 0
sprpriority = 2
anim = 1902

[State 1902, Sound]
type = PlaySnd
trigger1 = !time
value = 2110,0
volume = 255

[State 1902, Shake]
type = EnvShake
trigger1 = !time
Time = 68

[State 1902, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = -1,-1
value	= 1

[State 1902, MG.Helper]
type = Helper
trigger1 = time = 3
name = "DualMachineGun"
stateno = 12210
postype = p1
pos = 20, -61
keyctrl = 0
ownpal = 1
id = 12210

[State 12150, MuzzleFlash]
type = Explod
triggerall = time <= 70
trigger1 = time%6=0
Anim = 15350
Pos = 18, -62
Id = 15350
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 1,0.5
vel = 0,0

[State 12150, Smoke]
type = Explod
triggerall = time <= 70
trigger1 = time%4=3
Anim = 15324+random%4
Pos = 22, -64
Id = 15320
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.25,0.25
vel = sin(gametime*0.05)*0.25,-0.0667
accel = -sin(gametime*0.05)*0.005,-0.0667

[State 12150, Shells]
type = Explod
triggerall = time <= 70
trigger1 = time%6=3
Anim = 17100
Pos = 22, -64
Id = 17100
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.25,0.4
vel = 1-random%6,-3-random%3
accel = 0,0.44

[State 1902, End]
type = ChangeState
trigger1 = time = 96
value	= 1055
;---------------------------------------------------------------------------
;Hell Flash
[Statedef 2000]
type    = S
movetype= A
physics = S
poweradd= -2000
ctrl = 0
velset = 0
anim = 2000

[State 2000, Voice]
type = PlaySnd
trigger1 = !time
value = 3,10
volume = 255
channel = 0

[State 2000, SuperPause]
type = SuperPause
trigger1 = !time
time = 40
anim = S12411
sound = S1800,0
pos = -26,-58
darken = 0
unhittable = 1

[State 2000, VelSetY]
Type = VelSet
trigger1 = !time 
y = 0

[State 2000, BlackFade]
type = Explod
trigger1 = !time
Anim = 19001
Pos = -50, -50
Id = 19001
sprpriority = -99999999
removeongethit = 1
Postype = left
Bindtime = 1
ownpal = 1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1
scale = 2, 2

[State 2000, End]
type = ChangeState
trigger1 = Time = 1 
value = 2001
ctrl = 1
;---------------------------------------------------------------------------
;Hell Flash Left Punch
[Statedef 2001]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
sprpriority = 1
anim = 2001

[State 2001, Shake]
type = EnvShake
trigger1 = !time
Time = 18

[State 2001, Sound]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 7
value = 1015, 0

[State 2001, RFL.Helper]
type = Helper
trigger1 = animelem = 3
name = "SuperRocketFist-L"
stateno = 12175
postype = p1
pos = 52, -66
keyctrl = 0
ownpal = 1
id = 12175

[State 2001, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = -1,-1
value	= 1

[State 2001, End]
type = ChangeState
trigger1 = !animtime
value	= 2003
;---------------------------------------------------------------------------
; Fierce Charge
[Statedef 2003]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
sprpriority = 2
anim = 2003

[State 2003, Swing]
type = PlaySnd
trigger1 = animelem = 2
value = 211, 0

[State 2003, RunSound]
type = PlaySnd
trigger1 = animelem = 2
value = 705, 0

[State 2003, Voice]
type = PlaySnd
trigger1 = !time
value = 1, 3
channel = 0
volume = 255

[State 2003, VelSet]
type = Velset
trigger1 = !movecontact && animelem = 3,=[0,44]
x = 15.0+(time-15)*0.05

;[State 2003, VelSet]
;type = Velset
;trigger1 = movecontact && animelem = 3,=[0,44]
;x = 4.0

[State 2003, KickDust]
type = Explod
triggerall = pos y > -10
trigger1 = animelem = 3
Anim = 15010
Pos = -10, 0-floor(pos y)
Id = 15010
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.4,0.4

[State 2003, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 30
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 2003, PunchEffect.Helper]
type = Helper
trigger1 = animelem = 3
name = "FPunchFX"
stateno = 12600
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 12600
pausemovetime = 9999
size.xscale = 0.5

[State 2003, MakeDust]
type = Explod
triggerall = !movecontact && pos y > -10
trigger1 = time >= 20 && time%2
Anim = 15310+Var(41)
Pos = -41, -1-floor(pos y)
Id = 15310
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.5,0.5

[State 2003, Hitdef]
type = HitDef
trigger1 = !time
attr = S, HA
animtype  = Back
damage    = 45,9
guardflag = MA
pausetime = 1,46
sparkno = 2
sparkxy = -17,-48
hitsound   = S305,0
guardsound = 6,0
ground.type = High
ground.slidetime = 26
ground.hittime  = 22
ground.velocity = -7.4,-3.5
air.velocity = -7.4,-3.5
fall = 1
air.fall = 1
ground.cornerpush.veloff = 0
envshake.time = 16
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 2003, NoPush]
type = PlayerPush
trigger1 = movehit
value = 0
ignorehitpause=1
pausemovetime = 9999
supermovetime = 9999

[State 2003, TargetBind]
type = TargetBind
trigger1 = movehit
pos = 70-(movehit*3), -5
ignorehitpause=1
pausemovetime = 9999
supermovetime = 9999

[State 2003, End]
type = ChangeState
trigger1 = !animtime && movehit
trigger2 = movehit > 12
value = 2004
[State 2003, End]
type = ChangeState
trigger1 = !animtime 
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Hell Flash - Heavy Strike into Ground
[Statedef 2004]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
sprpriority = 2
anim = 2004

[State 2004, Ring]
type = Explod
trigger1 = animelem = 2
Anim = 12695
Pos = 35, -30
Id = 12695
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = 1
ownpal = 1
scale = 0.30, 0.30

;[State 2004, Swing]
;type = PlaySnd
;trigger1 = time=1
;value = 705, 1

[State 2004, SuperPause]
type = SuperPause
trigger1 = !time
time = 16
anim = S12411
pos = -26,-78
sound = 1501,0
darken = 0
unhittable = 1

[State 2004, Swing]
type = PlaySnd
trigger1 = Time = 6
value = 210, 0

[State 2004, VelSet]
type = Velset
trigger1 = animelem = 4,=[0,3]
x = 3.6

[State 2004, AfterImage]
type = AfterImage
trigger1 = time=1
time = 12
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 2004, Hitdef]
type = HitDef
trigger1 = !time
attr = S, HA
animtype  = Hard
damage    = 40,8
guardflag = MA
pausetime = 14,12
sparkno = 2
sparkxy = -8,-42
hitsound   = S305,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -1,10
air.velocity = -1,10
fall =1
fall.recover = 0
envshake.time = 28
envshake.freq = 140
envshake.ampl = -5
envshake.phase = 90
id = 2005
p2stateno = 97683

[State 2005, NoPlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause=1
pausemovetime = 9999
supermovetime = 9999

[State 2004, End]
type = ChangeState
trigger1 = !animtime
value = 2005
;---------------------------------------------------------------------------
; Hell Flash - Beam
[Statedef 2005]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
sprpriority = 1
anim = 2005

[State 2005, CameraController.Helper1]
type = Helper
trigger1 = !time
name = "CameraControl"
stateno = 99995
postype = p1
pos = 11, 0
keyctrl = 0
ownpal = 1
id = 99999
pausemovetime = 9999

[State 2005, CameraController.Helper2]
type = Helper
trigger1 = !time
name = "CameraControl2"
stateno = 99996
postype = p1
pos = -11, 0
keyctrl = 0
ownpal = 1
id = 99999
pausemovetime = 9999

[State 2005, Voice]
type = PlaySnd
trigger1 = !time
value = 3, 11
channel = 0
volume = 255

[State 2005, PlaySnd_Poom]
type = PlaySnd
trigger1 = animelem = 6
value = 1011, 1

[State 2005, PlaySnd_MainSound]
type = PlaySnd
trigger1 = animelem = 6
value = 2400, 0
volume = 200

[State 2005, Ball.1]
type = Explod
trigger1 = animelem = 6
Id = 10050
Anim = 10050
Postype = p1
Pos = -8, -30
Bindtime = -1
sprpriority = 2
removeongethit = 1
removetime = 260
ownpal = 1
scale = 0.25,0.25
[State 2005, Ball.2]
type = Explod
trigger1 = animelem = 6
Id = 10050
Anim = 10050
Postype = p1
Pos = 15, -30
Bindtime = -1
sprpriority = 2
removeongethit = 1
removetime = 260
ownpal = 1
scale = 0.25,0.25
[State 15275, Modify.Balls]
type = ModifyExplod
trigger1 = time = [25,34]
Id = 10050
scale = (0.35+(time-25)*0.025),(0.35+(time-25)*0.025)
[State 15275, Modify.Balls]
type = ModifyExplod
trigger1 = time = [270,281]
Id = 10050
scale = (0.575-(time-270)*0.025),(0.575-(time-270)*0.025)

[State 2005, EnergyBall.Helper]
type = Helper
trigger1 = time = 28
name = "EBall"
stateno = 12260
Postype = p1
Pos = 4, -30
keyctrl = 0
ownpal = 1
id = 12260

[State 2005, Eruption_Hole.Helper]
type = Helper
trigger1 = time = 80
name = "E-Hole_1"
stateno = 15275
postype = p1
pos = -130, -floor(pos y)
keyctrl = 0
ownpal = 1
id = 15275
size.xscale = 1
size.yscale = 1

[State 2005, Eruption_Hole.Helper]
type = Helper
trigger1 = time = 120
name = "E-Hole_2"
stateno = 15275
postype = p1
pos = 75, -floor(pos y)
keyctrl = 0
ownpal = 1
id = 15276
size.xscale = 1
size.yscale = 1

[State 15280, VarRandom.TargetMove]
type = VarRandom
triggerall = numtarget(2005)>0
trigger1 = time = 79
v = 9
range = -180,180
[State 15280, TargetBind]
type = TargetBind
triggerall = numtarget(2005)>0
trigger1 = time = 80
pos = var(9)
ID = 2005

[State 2005, NoPlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2005, End]
type = ChangeState
trigger1 = !animtime
value = 2006
;---------------------------------------------------------------------------
; Hell Flash - End
[Statedef 2006]
type    = S
movetype= I
physics = S
juggle  = 0
velset = 0,0     
sprpriority = 1
anim = 2006

[State 2006, Sound]
type = PlaySnd
trigger1 = animelem = 5
value = 700, 1

[State 2006, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Android Assault
[Statedef 2100]
type    = S
movetype= A
physics = S
poweradd= -1000
ctrl = 0
velset = 0
anim = 2100

[State 2100, SuperPause]
type = SuperPause
trigger1 = !time
time = 40
anim = S12411
sound = S1800,0
pos = -26,-58
darken = 0
unhittable = 1

[State 2100, VelSetY]
Type = VelSet
trigger1 = !time 
y = 0

[State 2100, BlackFade]
type = Explod
trigger1 = !time
Anim = 19001
Pos = -50, -50
Id = 19001
sprpriority = -99999999
removeongethit = 1
Postype = left
Bindtime = 1
ownpal = 1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1
scale = 2, 2

[State 2100, End]
type = ChangeState
trigger1 = Time = 1
value = 2101
;---------------------------------------------------------------------------
; Android Assault - Tackle
[Statedef 2101]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = 0
sprpriority = 2
anim = 2101

[State 2103, VarSet.HeadButt.Count]
type = VarSet
trigger1 = !time
v = 36
value = 0
[State 2103, VarSet.HeadButt.HitCount]
type = VarSet
trigger1 = !time
v = 41
value = 0

[State 2101, Swing]
type = PlaySnd
trigger1 = animelem = 2
value = 210, 0

[State 2101, Voice]
type = PlaySnd
trigger1 = !time
value = 1, 2
channel = 0
volume = 255

[State 2101, VelSet]
type = Velset
trigger1 = animelem = 2,=[0,17]
x = 18.0

[State 2101, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 21
length = 16
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 2101, KickDust]
type = Explod
triggerall = pos y > -10
trigger1 = animelem = 2
Anim = 15010
Pos = -8, 0 -floor(pos y)
Id = 15010
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.4,0.4

[State 2101, MakeDust]
type = Explod
triggerall = !movecontact && pos y > -10
trigger1 = time >= 5 && time%2
Anim = 15310+Var(41)
Pos = -40, -1-floor(pos y)
Id = 15310
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.5,0.5

[State 2101, Wind]
type = Explod
triggerall = !movecontact && animelem = 2>=0 && animelem = 3 < 0
trigger1 = time % 3 = 0
Anim = 15130
Pos = 25, -39
Id = 15130
sprpriority = 3
removeongethit = 0
Postype = p1
Bindtime = 1
ownpal = 1
scale = 0.5, 0.5
angle = 270
vel = vel x * 0.5, 0

[State 2101, Hitdef]
type = HitDef
trigger1 = !time
attr = S, HA
animtype  = Hard
damage    = 40,8
guardflag = MA
pausetime = 15,18
sparkno = 2
sparkxy = -17,-62
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 26
ground.hittime  = 26
ground.velocity = 4, -11
air.velocity = 4,-11
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
envshake.time = 14
envshake.freq = 140
envshake.ampl = -5
envshake.phase = 90
p2facing = 1
kill = 0
priority = 5

[State 2101, GetOpponent]
type = VarSet
trigger1 = movehit
v = 5
value = enemynear(0), ID

[State 2101, Next]
type = ChangeState
trigger1 = !animtime && movehit
value = 2102
[State 2101, End]
type = ChangeState
trigger1 = !animtime && !movehit
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Android Assault - Turn and Crouch
[Statedef 2102]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
sprpriority = 2

[State 2102, Voice]
type = PlaySnd
trigger1 = !time
value = 3, 4
channel = 0
volume = 255

[State 2102, Turn]
type = Turn
trigger1 = !time && p2bodydist x < 0

[State 2102, Anim]
type = ChangeAnim
trigger1 = !time
value = 2102

[State 2102, Next.Headbutt]
type = ChangeState
triggerall = var(36) < 3
trigger1 = !animtime
value = 2103

[State 2102, Next.Grab]
type = ChangeState
triggerall = var(36) >= 3
trigger1 = !animtime
value = 2107
;---------------------------------------------------------------------------
; Android Assault - Rocket Head Butt
[Statedef 2103]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0     
sprpriority = 2
anim = 2103

[State 2103, VarSet]
type = VarSet
trigger1 = !time
v = 43
value = 0

[State 2104, Turn]
type = Turn
trigger1 = !time && p2bodydist x < 0

[State 2103, VarAdd.HeadButt.HitCount]
type = VarAdd
trigger1 = !time;movecontact = 1
v = 36
value = 1
ignorehitpause = 0
pausemovetime = 999

;Math and Variable Container
[State 7001, Math_Helper]
type = Helper
triggerall = !numhelper(7099)
trigger1 = !time
ID = 7099
stateno = 7099
name = "Math_Helper"
postype = p1
pos = 0,0

[State 2103, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 2103, Swing]
type = PlaySnd
trigger1 = !time
value = 705, 1
volume = 100

[State 2103, RocketSound]
type = PlaySnd
trigger1 = !time
value = 705, 0
volume = 100

[State 2103, Voice]
type = PlaySnd
triggerall = random < 200 && prevstateno != 2102
trigger1 = !time
value = 1, 2
channel = 0
volume = 255

[State 2103, VelSet]
type = Velset
triggerall = numhelper(7099)
trigger1 = time=1
x = helper(7099),fvar(10)
y = helper(7099),fvar(11)

[State 2103, AngleSet]
type = AngleSet
triggerall = numhelper(7099)
trigger1 = time = 1
value = -30+helper(7099),fvar(15)
[State 2103, AngleDraw]
type = AngleDraw
trigger1 = time
ignorehitpause = 1

[State 2103, AfterImage]
type = AfterImage
trigger1 = time=1
time = 28
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 2103, Smoke]
type = Explod
triggerall = movecontact!=[1,2]
trigger1 = time
Anim = 15320+random%4
Pos = 3, -40
Id = 15320
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.3,0.3
vel = (-3+random%7)*0.5,(-3+random%7)*0.5
accel = -(-3+random%7)*0.043,-(-3+random%7)*0.043

[State 2103, Hitdef]
type = HitDef
trigger1 = !time
attr = S, SA
animtype  = Hard
damage    = 20,5
guardflag = MAFD
pausetime = 15,18
sparkno = 2
sparkxy = -17,-62
hitsound   = S302,0
guardsound = 6,0
ground.type = High
ground.slidetime = 26
ground.hittime  = 26
ground.velocity = ifelse(vel x >= 0,7-random%3,-6),ifelse(var(36)>=3,-14,-8)
air.velocity = ifelse(vel x >= 0,7-random%3,-6),ifelse(var(36)>=3,-14,-8)
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
envshake.time = 12
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90
p2facing = -1

[State 2103, End]
type = Gravity
trigger1 = time >= 3

[State 2103, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 2103, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value	= 1
ignorehitpause=1

[State 2103, VarSet]
type = VarSet
trigger1 = movehit
v = 43
value = 1
ignorehitpause = 1

[State 2103, HitWall]
type = ChangeState
trigger1 = frontedgedist < 20 && time > 5 && prevstateno != 2104
trigger2 = frontedgedist < 20 && time > 15 && prevstateno = 2104
trigger3 = time > 150
value = 2104

[State 2103, HitCeiling]
type = ChangeState
trigger1 = screenpos y <= -25 && time > 5  && prevstateno != 2105
trigger2 = screenpos y <= -25 && time > 15  && movecontact = [10,20]
trigger3 = screenpos y <= -25 && time > 30 && prevstateno = 2105
value = 2105

[State 2103, HitFloor]
type = ChangeState
triggerall = prevstateno != 2102 && prevstateno != 2106
trigger1 = pos y >= 0 && time > 5
value = 2106
;---------------------------------------------------------------------------
; Android Assault - Wall - Turn and Refire
[Statedef 2104]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0     
sprpriority = 2

[State 2104, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 2104, Turn]
type = Turn
trigger1 = !time && p2bodydist x < 0

[State 2104, Anim2]
type = ChangeAnim
trigger1 = !time
value = 2104

[State 2104, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value	= 0
ignorehitpause=1

[State 2104, Next.Headbutt]
type = ChangeState
triggerall = var(36) < 3 && var(43) = 1
trigger1 = !animtime
value = 2103

[State 2104, Next.Grab]
type = ChangeState
triggerall = var(36) >= 3 && var(43) = 1
trigger1 = !animtime
value = 2107

[State 2104, Next.RollEnd]
type = ChangeState
triggerall = var(43) = 0
trigger1 = !animtime
value = 2115
;---------------------------------------------------------------------------
; Android Assault - Ceiling - Turn and Refire
[Statedef 2105]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0     
sprpriority = 2

[State 2105, PosAdd]
type = null;PosAdd
trigger1 = !time
value = -10

[State 2105, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 2105, Turn]
type = Turn
trigger1 = !time && p2bodydist x < 0

[State 2105, Anim1]
type = ChangeAnim
trigger1 = !time
value = 2105

[State 2105, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value	= 0
ignorehitpause=1

[State 2105, Next.Headbutt]
type = ChangeState
triggerall = var(36) < 3 && var(43) = 1
trigger1 = !animtime
value = 2103

[State 2105, Next.Grab]
type = ChangeState
triggerall = var(36) >= 3 && var(43) = 1
trigger1 = !animtime
value = 2107

[State 2105, Next.RollEnd]
type = ChangeState
triggerall = var(43) = 0
trigger1 = !animtime
value = 2115

;---------------------------------------------------------------------------
; Android Assault - Ground - Turn and Refire
[Statedef 2106]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0     
sprpriority = 2

[State 2106, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 2106, Turn]
type = Turn
trigger1 = !time && p2bodydist x < 0

[State 2106, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 2106, Anim1]
type = ChangeAnim
trigger1 = !time
value = 2102

[State 2106, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value	= 0
ignorehitpause=1

[State 2106, Next.Headbutt]
type = ChangeState
triggerall = var(36) < 3 && var(43) = 1
trigger1 = !animtime
value = 2103

[State 2106, Next.Grab]
type = ChangeState
triggerall = var(36) >= 3 && var(43) = 1
trigger1 = !animtime
value = 2107

[State 2106, Next.RollEnd]
type = ChangeState
triggerall = var(43) = 0
trigger1 = !animtime
value = 2115

;---------------------------------------------------------------------------
; Android Assault - Leap and Grab
[Statedef 2107]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0     
sprpriority = 2
anim = 2107

;Math and Variable Container
[State 2107, Math_Helper]
type = Helper
triggerall = !numhelper(7099)
trigger1 = !time
ID = 7099
stateno = 7099
name = "Math_Helper"
postype = p1
pos = 0,0

[State 2107, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 2107, Swing]
type = PlaySnd
trigger1 = !time
value = 41, 0

[State 2107, VelSet]
type = Velset
triggerall = numhelper(7099)
trigger1 = time=1
x = helper(7099),fvar(10)
y = helper(7099),fvar(11)

[State 2107, AfterImage]
type = AfterImage
trigger1 = !time
time = 28
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 2107, HitDef]
type = HitDef
trigger1 = !time
attr = S, NT
priority = 2, miss
sparkno = -1
snap = 42,0
p1stateno = 2108
p2stateno = 95020
p2facing = 1

[State 2107, End]
type = Gravity
trigger1 = time >= 3

[State 2107, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 2107, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value	= 1
ignorehitpause=1

[State 2107, Fall.to.Ground]
type = ChangeState
triggerall = time >= 2
trigger1 = pos y = 0
value = 52
ctrl = 1
;-------------------------------------------------------------------------
; Spinning Slam Grab
[Statedef 2108]
type = A
movetype = A
physics = N
anim = 2108
sprpriority = 1

[State 2108, Disengage_VoiceVar]
type = VarSet
trigger1 = !time
v = 41
value = 1

[State 2108, VelSet]
Type = VelSet
Trigger1 = 1
x = Vel X * 0.92

[State 2108, VarSet-Voice]
Type = VarRandom
Trigger1 = !time
v = 27
range = 0,2

[State 2108, Voice1]
type = PlaySnd
triggerall = var(27)=0
trigger1 = time = 1
value = 1,1
channel = 0
volume = 255

[State 2108, HitRing]
type = Helper
trigger1 = !time
name = "ContactRing"
stateno = 10101
postype = p1
pos = 56, -64
keyctrl = 0
ownpal = 1
id = 10101
ignorehitpause = 1
supermovetime  = 9999
pausemovetime  = 9999
size.xscale = 1
size.yscale = 1

[State 2108, GrabSND]
type = PlaySnd
trigger1 = !time
value = 800, 0

[State 2108, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 2108, TBind2]
type = TargetBind
trigger1 = 1
pos = 50,-2

[State 2108, State]
type = ChangeState
trigger1 = !AnimTime
value = 2109
;-------------------------------------------------------------------------
; The Big Spin
[Statedef 2109]
type = A
movetype = A
physics = N
velset = vel X *0.92,vel y - 4
anim = 952
sprpriority = 2

[State 2109, VelSet]
Type = VelSet
Trigger1 = time
x = Vel X * 0.92

[State 952, CameraController.Helper]
type = Helper
trigger1 = !time
name = "CameraControl"
stateno = 99998
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 99999
pausemovetime = 9999

[State 2109, Voice2]
type = PlaySnd
triggerall = var(27)=1
trigger1 = time = 2
value = 1,10
channel = 0
volume = 255
[State 2109, Voice3]
type = PlaySnd
triggerall = var(27)=2
trigger1 = !time
value = 3,0
channel = 0
volume = 255
freqmul=0.9

[State 2109, AfterImage]
type = AfterImage
trigger1 = !time
time = 93
length = 16
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 2109, Gravity]
type = Gravity
trigger1 = pos y < 0 && time > 1

[State 2109, SprPriority]
type = SprPriority
trigger1 = AnimElem = 2, =0
trigger2 = AnimElem = 3, =0
trigger3 = AnimElem = 6, =0
trigger4 = AnimElem = 7, =0
trigger5 = AnimElem = 10, =0
trigger6 = AnimElem = 11, =0
trigger7 = AnimElem = 14, =0
trigger8 = AnimElem = 15, =0
value = 2
[State 2109, SprPriority]
type = SprPriority
trigger1 = AnimElem = 1, =0
trigger2 = AnimElem = 4, =0
trigger3 = AnimElem = 5, =0
trigger4 = AnimElem = 8, =0
trigger5 = AnimElem = 9, =0
trigger6 = AnimElem = 12, =0
trigger7 = AnimElem = 13, =0
trigger8 = AnimElem = 16, =0
value = 1

[State 2109, TargetState]
type = TargetState
trigger1 = AnimElem = 2, =0
trigger2 = AnimElem = 3, =0
trigger3 = AnimElem = 6, =0
trigger4 = AnimElem = 7, =0
trigger5 = AnimElem = 10, =0
trigger6 = AnimElem = 11, =0
trigger7 = AnimElem = 14, =0
trigger8 = AnimElem = 15, =0
value = 95038
[State 2109, TargetState]
type = TargetState
trigger1 = AnimElem = 1, =0
trigger2 = AnimElem = 4, =0
trigger3 = AnimElem = 5, =0
trigger4 = AnimElem = 8, =0
trigger5 = AnimElem = 9, =0
trigger6 = AnimElem = 12, =0
trigger7 = AnimElem = 13, =0
trigger8 = AnimElem = 16, =0
value = 95039

[State 2109, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 2109, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 5
trigger3 = AnimElem = 9
trigger4 = AnimElem = 13
value = 202,0

[State 2109, TBind1]
type = TargetBind
trigger1 = AnimElem = 1, >=0 && AnimElem = 2, < 0
trigger2 = AnimElem = 5, >=0 && AnimElem = 6, < 0
trigger3 = AnimElem = 9, >=0 && AnimElem = 10, < 0
trigger4 = AnimElem = 13, >=0 && AnimElem = 14, < 0
pos = 36,-63
[State 2109, TBind2]
type = TargetBind
trigger1 = AnimElem = 2, >=0 && AnimElem = 3, < 0
trigger2 = AnimElem = 6, >=0 && AnimElem = 7, < 0
trigger3 = AnimElem = 10, >=0 && AnimElem = 11, < 0
trigger4 = AnimElem = 14, >=0 && AnimElem = 15, < 0
pos = -20,-66
[State 2109, TBind3]
type = TargetBind
trigger1 = AnimElem = 3, >=0 && AnimElem = 4, < 0
trigger2 = AnimElem = 7, >=0 && AnimElem = 8, < 0
trigger3 = AnimElem = 11, >=0 && AnimElem = 12, < 0
trigger4 = AnimElem = 15, >=0 && AnimElem = 16, < 0
pos = -26,-64
[State 2109, TBind4]
type = TargetBind
trigger1 = AnimElem = 4, >=0 && AnimElem = 5, < 0
trigger2 = AnimElem = 8, >=0 && AnimElem = 9, < 0
trigger3 = AnimElem = 12, >=0 && AnimElem = 13, < 0
trigger4 = AnimElem = 16, >=0
pos = 23,-62

[State 2109, State]
type = ChangeState
trigger1 = pos y > 0
value = 954
[State 2109, State2]
type = ChangeState
trigger1 = !animtime
value = 953
;---------------------------------------------------------------------------
; Super Rocket Head Butt - Roll
[Statedef 2115]
type    = A
movetype= I
physics = N
juggle  = 0   
ctrl = 0  
sprpriority = 2
anim = 1408

[State 2115, Voice]
type = PlaySnd
trigger1 = !time
value = 3, 1
channel = 0
volume = 255

[State 2115, PlaySND]
type = PlaySnd
trigger1 = !time
value = 41,0

[State 2115, PlaySND]
type = PlaySnd
triggerall = pos y < -16
trigger1 = time % 9 = 0
value = 202,0
volumescale = 50

[State 2115, AfterImage]
type = AfterImage
trigger1 = !time
time = 24
length = 16
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 2115, VelSet]
type = VelSet
trigger1 = !time && prevstateno=2104
x = 10
y = -7
[State 2115, VelSet]
type = VelSet
trigger1 = !time && prevstateno=2105
x = 3.6
y = -11
[State 2115, VelSet]
type = VelSet
trigger1 = !time && prevstateno=2106
x = 4
y = 8

[State 2115, PosAdd]
type = PosAdd
trigger1 = !time
y = -10

[State 2115, VelSet]
type = VelSet
trigger1 = pos y >= 0
y = 0

[State 2115, Gravity]
type = Gravity
triggerall = pos y < 0
trigger1 = 1

[State 2115, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 2115, End]
type = ChangeState
trigger1 = pos y = 0 && time
value = 1409
;---------------------------------------------------------------------------
;Self-Destruct
[Statedef 2300]
type    = S
movetype= I
physics = S
poweradd= -1000
ctrl = 0
velset = 0
anim = 2300

[State 2600, Voice]
type = PlaySnd
trigger1 = !time
value = 3, 12
volumescale = 100
channel = 0

[State 2300, SuperPause]
type = SuperPause
trigger1 = !time
time = 28
anim = S12411
sound = S1800,0
pos = -26,-58
darken = 0
unhittable = 1

[State 2300, VelSetY]
Type = VelSet
trigger1 = !time 
y = 0

[State 2300, BlackFade]
type = Explod
trigger1 = !time
Anim = 19001
Pos = -50, -50
Id = 19001
sprpriority = -99999999
removeongethit = 1
Postype = left
Bindtime = 1
ownpal = 1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1
scale = 2, 2

[State 2300, End]
type = ChangeState
trigger1 = Time = 14 
value = 2301
;---------------------------------------------------------------------------
; Self-Destruct : Leap Backwards
[Statedef 2301]
type    = S
movetype= I
physics = N
juggle  = 0
sprpriority = 1
anim = 2301

[State 2301, KickDust]
type = Explod
triggerall = pos y > -19
trigger1 = !time
Anim = 15011
Pos = 25, 3 -floor(pos y)
Id = 15011
sprpriority = 3
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.2,0.2
velocity = 1,0

[State 2301, VelSet]
Type = VelSet
trigger1 = !time
x = -16
y = -4

[State 2301, VelAdd-Gravity]
Type = VelAdd
trigger1 = time && Pos Y < 0
y = 0.2

[State 2301, VelAdd-X]
Type = VelAdd
trigger1 = animelem = 3, > 0
x = -0.8

[State 2301, NoPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2301, PlaySND-Jump]
type = PlaySnd
Trigger1 = !time
value = 41,0
[State 2301, PlaySND-Teleport]
type = PlaySnd
Trigger1 = AnimElem = 3
value = 2900,0

[State 2600, MakeDust]
type = Explod
triggerall = pos y > -19
trigger1 = time
Anim = 15310+(random%5)
Pos = -7, -1-floor(pos y)
Id = 15310
sprpriority = 2
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5

[State 2301, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 40
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,0
timegap = 1
framegap = 1
trans = Add

[State 2301, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value = 0
ignorehitpause=1

[State 2301, HitGround]
type = PosSet
Trigger1 =  Pos Y > 0
y = 0

[State 2301, Next]
type = ChangeState
trigger1 = !animtime
value = 2302
;---------------------------------------------------------------------------
; Self-Destruct : Hide and Scan
[Statedef 2302]
type    = S
movetype= I
physics = N
juggle  = 0 
sprpriority = 2
anim = 9999
velset = 0,0

[State 2302, NotHere!]
type = PosSet
Trigger1 =  !time
x = 0
y = 999999

[State 2302, Scan.Helper]
type = Helper
trigger1 = time = 10
name = "ScanEffects"
stateno = 17010
postype = left
pos = 0, 0
keyctrl = 0
ownpal = 0
id = 17010

[State 2302, Scanner.Helper]
type = Helper
trigger1 = time = 20
name = "Scanner"
stateno = 17011
postype = left
pos = 10, -54
keyctrl = 1
ownpal = 1
id = 17011

[State 2302, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value = 0
ignorehitpause=1

[State 2302, Next]
type = ChangeState
trigger1 = time = 420
value = 2303
ctrl = 1
[State 2302, Next]
type = ChangeState
triggerall = numhelper(17011)
trigger1 = helper(17011), var(1)
value = 2303
ctrl = 1
;---------------------------------------------------------------------------
;Self-Destruct : Leap and Grab
[Statedef 2303]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 2303
sprpriority = 1

[State 2302, PlaySound-Fly]
type = PlaySnd
trigger1 = !time
value = 101,0

[State 2302, Voice]
type = PlaySnd
trigger1 = !time
value = 5,4
channel = 0
volumescale = 100

[State 2303, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value = 0
ignorehitpause=1

[State 2303, Turn]
type = Turn
triggerall = !time
trigger1 = enemynear(0),facing!=facing

[State 2303, PosSet]
type = PosSet
triggerall = numhelper(17011)
trigger1 = !time
x = ceil(helper(17011), pos x)
y = ceil(helper(17011), pos y)

[State 2303, PosAdd]
type = PosAdd
trigger1 = !time
x = -600
y = -600

[State 2303, VelSet]
type = VelSet
trigger1 = time=1
x = 16.66
y = 11.33

[State 2301, AfterImage]
type = AfterImage
trigger1 = !time
time = 40
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,0
timegap = 1
framegap = 1
trans = Add

[State 2303, HitDef]
type = HitDef
trigger1 = !time
attr = A, HT
priority = 4, miss
sparkno = -1
snap = 5,-65
p1stateno = 2304
p2stateno = 695061
p2facing = -1

[State 2303, Gravity]
type = Gravity
trigger1 = time >= 3

[State 2303, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 2303, End]
type = ChangeState
trigger1 = pos y = 0
value = 2310

;-------------------------------------------------------------------------
; Self Destruct - Grab, Fall to the ground if needed.
[Statedef 2304]
type = A
movetype = A
physics = N
velset = 0,0
anim = 2304
sprpriority = 1

[State 2304, PosSet]
type = VelSet
triggerall = pos y < 0
trigger1 = time = 7
y = 4
[State 2304, Gravity]
type = Gravity
triggerall = pos y < 0
trigger1 = time > 7

[State 2304, HitRing]
type = Helper
trigger1 = !time
name = "ContactRing"
stateno = 10101
postype = p1
pos = 19, -37
keyctrl = 0
ownpal = 1
id = 10101
ignorehitpause = 1
supermovetime  = 9999
pausemovetime  = 9999
size.xscale = 1
size.yscale = 1

[State 2304, GrabSND]
type = PlaySnd
trigger1 = !time
value = 800, 0

[State 2304, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 2304, Damage]
type = TargetLifeAdd
trigger1 = !animtime
value = -10

[State 2304, TargetBind]
type = TargetBind
trigger1 = 1
pos = 5,-65

[State 2304, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 2304, State]
type = ChangeState
trigger1 = (pos y = 0 && time >= 9)
value = 2305
;-------------------------------------------------------------------------
; Self Destruct - Hold and Explode all over Cell
[Statedef 2305]
type = S
movetype = A
physics = S
velset = 0,0
anim = 2305
sprpriority = 1

[State 2316, PlaySND]
type = PlaySnd
trigger1 = !time
value = 5102,0
volumescale = 100

[State 2305, Arms]
type = Explod
trigger1 = animelem = 2
Anim = 2329
Pos = 0,0
Id = 2329
sprpriority = 3
removeongethit = 1
Postype = p1
SuperMove = 1
ownpal = 0
scale = const(size.xscale),const(size.yscale)
bindtime = -1

[State 2305, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 2305, TargetBind]
type = TargetBind
trigger1 = 1
pos = 0,-65

[State 2305, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 2305, PalFX]
type = PalFX
trigger1 = time > 60
time=1
add = (-60+time),(-60+time),(-60+time)
persistent = 1
ignorehitpause = 1
pausetime = 99999

[State 2305, Charge1]
type = PlaySnd
trigger1 = time = 60
value = 1009,0
volumescale = 100

[State 2305, Voice]
type = PlaySnd
trigger1 = time = 52
value = 3,13
channel = 0
volumescale = 100

[State 2305, Charge1]
type = PlaySnd
trigger1 = time = 170
value = 1009,1
volumescale = 100

[State 2304, Explosion.Helper]
type = Helper
trigger1 = time = 195
name = "SD.Explode"
stateno = 13104
postype = p1
pos = 5, -60
keyctrl = 0
ownpal = 1
id = 13104
ignorehitpause = 1
supermovetime  = 9999
pausemovetime  = 9999
size.xscale = 1
size.yscale = 1

[State 2305, LifeAdd]
type = LifeAdd
trigger1 = time = 195
value = -99999999
kill = 0

[State 2305, RemoveArms]
type = RemoveExplod
trigger1 = time = 200
id = 2329

[State 2305, State]
type = ChangeState
trigger1 = time = 200
value = 2315
;-------------------------------------------------------------------------
; Self Destruct - Miss and hit ground
[Statedef 2310]
type = L
movetype = I
physics = C
velset = 0,0
anim = 2310
sprpriority = 1

[State 2316, PlaySND]
type = PlaySnd
trigger1 = time = 2
value = 900,0
volumescale = 100

[State 2316, Explod_HitGround]
type = Explod
trigger1 = time = 2
anim = F60
pos = 0, 5
postype = p1
sprpriority = 3
scale = 1.0, 1.0

[State 2607, Dust1]
type = Explod
trigger1 = time = 4
Anim = 15013
Pos = -56, 0
Id = 15013
sprpriority = 2
removeongethit = 0
Postype = p1
ownpal =1
scale = 0.35,0.35

[State 2607, Dust2]
type = Explod
trigger1 = time = 4
Anim = 15014
Pos = 29, 0
Id = 15014
sprpriority = 2
removeongethit = 0
Postype = p1
ownpal =1
scale = 0.35,0.35

[State 2607, Shake]
type = EnvShake
trigger1 = time = 4
Time = 28
freq = 60
ampl = -3

[State 2310, State]
type = ChangeState
trigger1 = time = 76
value = 2311
;-------------------------------------------------------------------------
; Self Destruct - Get Up
[Statedef 2311]
type = C
movetype = I
physics = C
velset = 0,0
anim = 2311
sprpriority = 1

[State 2311, PosSet]
type = PosSet
trigger1 = !animtime
y = -1

[State 2311, State]
type = ChangeState
trigger1 = !animtime
value = 2606
;-------------------------------------------------------------------------
; Self Destruct - Head Launcher
[Statedef 2315]
type = A
movetype = H
physics = N
velset = -6,-20-random%3
anim = 2315
sprpriority = 2

[State 2315, Spark1]
type = Explod
triggerall = pos y < 30
trigger1 = gametime % 8 = 2
Anim = 10044
Pos = -5+random%11,-5+random%11
Id = 10044
velocity = (vel x)*0.25,(vel y)*0.25
sprpriority = 1
removeongethit = 0
bindtime = 1
Postype = p1
ownpal = 1
scale = 0.125, 0.125
[State 2315, Spark2]
type = Explod
triggerall = pos y < 30
trigger1 = gametime % 8 = 6
Anim = 10046
Pos = -5+random%11,-5+random%11
Id = 10046
velocity = (vel x)*0.25,(vel y)*0.25
sprpriority = 1+random%2
removeongethit = 0
bindtime = 1
Postype = p1
ownpal = 1
scale = 0.125, 0.125
[State 2315, MakeDust]
type = Explod
triggerall = pos y < 30
trigger1 = gametime % 6 = 0
Anim = 15310+Var(41)
Pos = -5+random%11,-5+random%11
velocity = (vel x)*0.15,(vel y)*0.15
Id = 15310
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.35,0.35

[State 2315, PosSet]
type = PosSet
trigger1 = !time
y = 78

[State 2315, Track.X.Vel]
type = VarSet
trigger1 = 1
fv = 23
value = vel x
[State 2315, Track.Y.Vel]
type = VarSet
trigger1 = 1
fv = 24
value = vel y
[State 2315, Track.Angle]
type = VarSet
trigger1 = 1
fv = 25
value = fvar(25)+(-fvar(23)*2.0)

[State 2315, AngleSet]
type = AngleSet
trigger1 = 1
value = fvar(25)
[State 2315, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 2315, Wall_Bounce]
type = VelSet
trigger1 = (frontedgebodydist < 2) && (vel x > 0)
trigger2 = (backedgebodydist < 2) && (vel x < 0)
x = -(vel x)
[State 2315, Floor.Friction]
type = VelSet
trigger1 = (pos y >= 0) && (vel x > 0)
x = (vel x)*0.92

[State 2315, StopY]
type = VelSet
trigger1 = (vel y = [0,1.0]) && (pos y >= 0)
y = 0

[State 2315, Gethit]
type = HitOverride
trigger1 = 1
attr = SCA, NP, SP, HP, NA, SA, HA
slot = 0
stateno = 2319
ignorehitpause = 1
[State 2315, NotHit]
type = NotHitBy
trigger1 = 1
value = ,NT,ST,HT
time = 1
ignorehitpause = 1

[State 2315, Bounce.State]
type = ChangeState
trigger1 = (vel y > 0) && (pos y >= 0)
value = 2316
[State 2315, Next.State]
type = ChangeState
trigger1 = (vel y = 0) && (pos y >= 0)
value = 2318

[State 2315, Gravity]
type = Gravity
trigger1 = pos y < 0
;-------------------------------------------------------------------------
; Self Destruct - Head Hit-Ground -> Bounce
[Statedef 2316]
type = L
movetype = H
physics = N
velset=0,0
sprpriority = 2

[State 2316, PlaySND]
type = PlaySnd
trigger1 = !time
value = 706,0
volumescale = 100

[State 2316, PosSet]
type = PosSet
trigger1 = !time
y = 0

[State 2315, AngleSet]
type = AngleSet
trigger1 = 1
value = fvar(25)

[State 2316, Explod_HitGround]
type = Explod
trigger1 = !time
anim = F60
pos = 0, 5
postype = p1
sprpriority = 3
scale = 0.5, 0.5

[State 2316, MakeDust]
type = Explod
trigger1 = time
Anim = 15310+Var(41)
Pos = -4+random%9, -3+random%7
Id = 15310
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5

[State 2316, Reset.Velocity]
type = VelSet
trigger1 = time = 2
x = fvar(23)*0.92
y = -fvar(24)*0.5

[State 2316, Gethit]
type = HitOverride
trigger1 = 1
attr = SCA, NP, SP, HP, NA, SA, HA
slot = 0
stateno = 2319
ignorehitpause = 1
[State 2316, NotHit]
type = NotHitBy
trigger1 = 1
value = ,NT,ST,HT
time = 1
ignorehitpause = 1

[State 2316, State]
type = ChangeState
trigger1 = time = 2
value = 2317
;-------------------------------------------------------------------------
; Self Destruct - Head Bounce Up
[Statedef 2317]
type = A
movetype = H
physics = N
sprpriority = 2

[State 2317, Spark1]
type = Explod
triggerall = pos y < 30
trigger1 = gametime % 8 = 2
Anim = 10044
Pos = -5+random%11,-5+random%11
Id = 10044
velocity = (vel x)*0.25,(vel y)*0.25
sprpriority = 1
removeongethit = 0
bindtime = 1
Postype = p1
ownpal = 1
scale = 0.125, 0.125
[State 2317, Spark2]
type = Explod
triggerall = pos y < 30
trigger1 = gametime % 8 = 6
Anim = 10046
Pos = -5+random%11,-5+random%11
Id = 10046
velocity = (vel x)*0.25,(vel y)*0.25
sprpriority = 1+random%2
removeongethit = 0
bindtime = 1
Postype = p1
ownpal = 1
scale = 0.125, 0.125
[State 2317, MakeDust]
type = Explod
triggerall = pos y < 30
trigger1 = gametime % 6 = 0
Anim = 15310+Var(41)
Pos = -5+random%11,-5+random%11
velocity = (vel x)*0.15,(vel y)*0.15
Id = 15310
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.35,0.35

[State 2317, Track.X.Vel]
type = VarSet
trigger1 = 1
fv = 23
value = vel x
[State 2317, Track.Y.Vel]
type = VarSet
trigger1 = 1
fv = 24
value = vel y
[State 2317, Track.Angle]
type = VarSet
trigger1 = 1
fv = 25
value = fvar(25)+(-fvar(23)*2.0)

[State 2317, AngleSet]
type = AngleSet
trigger1 = 1
value = fvar(25)

[State 2317, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 2317, Wall_Bounce]
type = VelSet
trigger1 = (frontedgebodydist < 2) && (vel x > 0)
trigger2 = (backedgebodydist < 2) && (vel x < 0)
x = -(vel x)
[State 2317, Floor.Friction]
type = VelSet
trigger1 = (pos y >= 0) && (vel x > 0)
x = (vel x)*0.92

[State 2317, StopY]
type = VelSet
trigger1 = abs(vel y = [0,1.0]) && (pos y >= 0)
y = 0

[State 2317, Gethit]
type = HitOverride
trigger1 = 1
attr = SCA, NP, SP, HP, NA, SA, HA
slot = 0
stateno = 2319
ignorehitpause = 1
[State 2317, NotHit]
type = NotHitBy
trigger1 = 1
value = ,NT,ST,HT
time = 1
ignorehitpause = 1

[State 2317, Bounce.State]
type = ChangeState
trigger1 = (vel y > 0) && (pos y >= 0)
value = 2316
[State 2317, Next.State]
type = ChangeState
trigger1 = (vel y = 0) && (pos y >= 0)
value = 2318

[State 2317, Gravity]
type = Gravity
trigger1 = pos y < 0
;-------------------------------------------------------------------------
; Self Destruct - Head Stop
[Statedef 2318]
type = L
movetype = I
physics = N
velset=(vel x),0
sprpriority = 2

[State 2318, PosSet]
type = PosSet
trigger1 = !time
y = 0

[State 2318, Explod_HitGround]
type = Explod
trigger1 = !time
anim = F60
pos = 0, 3
postype = p1
sprpriority = 3
scale = 0.5, 0.5

[State 2318, Track.Angle]
type = VarSet
trigger1 = 1
fv = 25
value = fvar(25)+(-(vel x)*2.0)
[State 2318, AngleSet]
type = AngleSet
trigger1 = 1
value = fvar(25)

[State 2318, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 2318, Wall_Bounce]
type = VelSet
trigger1 = (frontedgebodydist < 2) && (vel x > 0)
trigger2 = (backedgebodydist < 2) && (vel x < 0)
x = -(vel x)
[State 2318, Floor.Friction]
type = VelSet
trigger1 = abs(vel x) > 0
x = (vel x)*0.92

[State 2318, StopX]
type = VelSet
trigger1 = abs(vel x) < 0.5
x = 0

[State 2318, Gethit]
type = HitOverride
trigger1 = 1
attr = SCA, NP, SP, HP, NA, SA, HA
slot = 0
stateno = 2319
ignorehitpause = 1
[State 2318, NotHit]
type = NotHitBy
trigger1 = 1
value = ,NT,ST,HT
time = 1
ignorehitpause = 1

[State 2318, Miraculous_Recovery]
type = ChangeState
triggerall = time >= 100
trigger1 = life > 900
value = 5120
[State 2318, Win]
type = ChangeState
triggerall = roundstate = 3
trigger1 = time >= 7
value = 2322
ctrl = 1
[State 2318, Power-Down_P2Survived]
type = ChangeState
triggerall = roundstate != 3
trigger1 = time >= 40 && life <= 900
value = 2323
ctrl = 1
;[State 2318, Die]
;type = ChangeState
;trigger1 = !alive && time = 1
;value = 2320
;ctrl = 1
;-------------------------------------------------------------------------
; Self Destruct - Get Hit
[Statedef 2319]
type = L
movetype = H
physics = N
velset = GetHitVar(xvel)*facing,GetHitVar(yvel)
sprpriority = 2
anim = 2315

[State 2319, LifeAdd]
type = LifeAdd
trigger1 = !time
value = -GetHitVar(damage)

[State 2323, Die]
type = LifeAdd
trigger1 = prevstateno = 2323
value = -99999

[State 2319, NotHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 2319, Track.Angle]
type = VarSet
trigger1 = 1
fv = 25
value = fvar(25)+(-(vel x)*2.0)
[State 2319, AngleSet]
type = AngleSet
trigger1 = 1
value = fvar(25)
[State 2319, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 2319, Wall_Bounce]
type = VelSet
trigger1 = (frontedgebodydist < 2) && (vel x > 0)
trigger2 = (backedgebodydist < 2) && (vel x < 0)
x = -(vel x)
[State 2319, Floor.Friction]
type = VelSet
trigger1 = abs(vel x) > 0
x = (vel x)*0.92

[State 2319, StopX]
type = VelSet
trigger1 = abs(vel x) < 0.5
x = 0

[State 2319, Miraculous_Recovery]
type = ChangeState
triggerall = time >= 100
trigger1 = life > 900
value = 5120
[State 2318, Power-Down_P2Survived]
type = ChangeState
triggerall = roundstate != 3
trigger1 = time >= 40 && life <= 900
value = 2323
ctrl = 1
[State 2319, Die]
type = ChangeState
trigger1 = !alive && time > 10
value = 2320
;-------------------------------------------------------------------------
; Self Destruct - Head Die
[Statedef 2320]
type = L
movetype = I
physics = N
velset=(vel x),(vel y)
sprpriority = 2
ctrl = 1

[State 2320, NotHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 2320, Track.Angle]
type = VarSet
trigger1 = 1
fv = 25
value = fvar(25)+(-(vel x)*2.0)
[State 2320, AngleSet]
type = AngleSet
trigger1 = 1
value = fvar(25)
[State 2320, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 2320, Floor.Friction]
type = VelSet
triggerall = pos y = 0 && abs(vel x) > 0
trigger1 = abs(vel x) > 0
x = (vel x)*0.92
[State 2318, StopX]
type = VelSet
trigger1 = abs(vel x) < 0.5 && abs(vel x) > 0
x = 0

[State 2320, Gravity]
type = Gravity
trigger1 = pos y < 0
[State 2320, Stop_Vel]
type = VelSet
trigger1 = pos y >= 0 && abs(vel y) > 0
y = 0
[State 2320, PosSet.Y]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 2320, Explosion.Helper]
type = Helper
trigger1 = time = 16
name = "Bewm"
stateno = 13000
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 13000
ignorehitpause = 1
supermovetime  = 9999
pausemovetime  = 9999
size.xscale = 1
size.yscale = 1

[State 2320, ChangeState]
type = ChangeState
trigger1 = time = 16
value = 5150
;-------------------------------------------------------------------------
; Self Destruct - Head Die - Seriously, Mugen Death/Win state activation can go to hell.
[Statedef 2321]
type    = L
movetype= H
physics = N
sprpriority = -3
anim = 9999
ctrl = 1

[State 2321, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 2318, Stop]
type = VelSet
trigger1 = !time
x = 0
y = 0

[State 2321, Durrrr_I_Dont_Know_Why_I_Need_to_do_this]
type = ChangeState
trigger1 = time = 5
value = 5150
;-------------------------------------------------------------------------
; Self Destruct - Head Win Idle
[Statedef 2322]
type = S

[State 2322, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 2318, Stop]
type = VelSet
trigger1 = !time
x = 0
y = 0

;-------------------------------------------------------------------------
; Self Destruct - Head Opponent Survived Power-Down
[Statedef 2323]
type = L
anim = 2316

[State 2323, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 2323, Stop]
type = VelSet
trigger1 = !time
x = 0
y = 0

[State 2323, Gethit]
type = HitOverride
trigger1 = 1
attr = SCA, NP, SP, HP, NA, SA, HA
slot = 0
stateno = 2319
ignorehitpause = 1
[State 2323, NotHit]
type = NotHitBy
trigger1 = 1
value = ,NT,ST,HT
time = 1
ignorehitpause = 1

[State 2323, Voice]
type = PlaySnd
trigger1 = time = 60
value = 6,0
channel = 0
volumescale = 100

[State 2323, PlaySND]
type = PlaySnd
trigger1 = time = 270
value = 720, 0
volumescale = 100

[State 2323, Smoke1]
type = Explod
triggerall = time%2=0
trigger1 = time = [270,277]
Anim = 15302+random%2
Postype = p1
Pos = -12+random%23, -10+random%19
Id = 15300
sprpriority = 3
removeongethit = 1
Bindtime = -1
scale = 0.25,0.25
ownpal = 1

[State 2323, EyeFadeBlack]
type = Explod
trigger1 = time = 210
Anim = 2319
Pos = 0,0
Id = 2319
sprpriority = 3
removeongethit = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = const(size.xscale),const(size.yscale)
bindtime = -1
angle = fvar(25)

[State 2323, Assert]
type = AssertSpecial
trigger1 = time = 360
flag = nokosnd
flag2 = nokoslow

[State 2323, Explode]
type = ChangeState
trigger1 = time >= 360
value = 2319

[State 2323, Miraculous_Recovery]
type = ChangeState
triggerall = time >= 100
trigger1 = life > 900 || time > 360
value = 5120
;---------------------------------------------------------------------------
; Recovery Roll - Roll
[Statedef 2600]
type    = A
movetype= I
physics = N
juggle  = 0   
ctrl = 0  
sprpriority = 2
anim = 2600
velset = 0, 0
power = -250

[State 2600, Voice]
type = PlaySnd
trigger1 = !time && random < 400
value = 1, 0
volume = 255
channel = 0

[State 2600, Turn]
type = Turn
trigger1 = p2dist x < 0 && !time

[State 2600, VelSet]
type = VelSet
trigger1 = animelem = 2 
x = 10

[State 2600, NoPush]
type = PlayerPush
trigger1 = 1
value = 0
pausemovetime = 9999

[State 2600, HitRocks_sound]
type = PlaySnd
trigger1 = animelem = 2 
value = 706, 0
volumescale = 50

[State 2600, AfterImage]
type = AfterImage
trigger1 = animelem = 2 
time = 20
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,0
timegap = 1
framegap = 1
trans = Add

[State 2600, KickDust]
type = Explod
triggerall = pos y > -10
trigger1 = animelem = 2 
Anim = 15010
Pos = -10, 0-floor(pos y)
Id = 15010
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.3,0.3

[State 2600, MakeDust]
type = Explod
triggerall = pos y > -10
trigger1 = time > 5 && time%2=1
Anim = 15310+Var(41)
Pos = -7, -1-floor(pos y)
Id = 15310
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5

[State 2600, VelSet]
type = VelSet
trigger1 = pos y >= 0
y = 0

[State 2600, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 2600, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 2600, Next.CloseKick]
type = ChangeState
triggerall = p2dist x =[-70, 70]
trigger1 = pos y = 0 && !animtime
trigger2 = p2dist x < 0 && time > 6
value = 2601

[State 2600, Next.LeapUp]
type = ChangeState
triggerall =  p2dist x !=[-70, 70]
trigger1 = pos y = 0 && !animtime
value = 2605
;---------------------------------------------------------------------------
; Recovery Roll - Kick
[Statedef 2601]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 60
ctrl = 0
sprpriority = 2
anim = 460
velset = ifelse((p2dist x != [-45,45]),vel x * 0.5, vel x),0

[State 2601, Turn]
type = Turn
trigger1 = p2dist x < 0 && animelem = 2

[State 2601, Voice]
type = PlaySnd
trigger1 = !time
value = 1, 15
volume = 255
channel = 0

[State 2601, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0

[State 2601, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 16
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 2601, HitDef]
type = HitDef
trigger1 = !time
attr = C, NA
damage    = 50,5
priority  = 3
animtype  = DiagUp
hitflag = MAF
guardflag = L
pausetime = 11,12
sparkno = 2
sparkxy = -15,-73
hitsound   = S302,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 16
ground.velocity = -4,-8
air.velocity = -4,-8
fall = 1
fall.recover = 1
envshake.time = 15
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 2601, End]
type = ChangeState
trigger1 = !animtime
value = 10
ctrl = 1
;---------------------------------------------------------------------------
; Recovery Roll - Jump Up Attack - Lean Back
[Statedef 2605]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 60
ctrl = 0
sprpriority = 2
anim = 2605

[State 2605, Voice]
type = PlaySnd
trigger1 = !time
value = 1, 6
volume = 255
channel = 0

[State 2605, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 30
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,00
timegap = 1
framegap = 1
trans = Add

[State 2605, Sound]
type = PlaySnd
trigger1 = animelem = 3
value = 210, 0

[State 2605, End]
type = ChangeState
trigger1 = !animtime
value = 2606
;---------------------------------------------------------------------------
; Recovery Roll - Jump Up Attack - Leap
[Statedef 2606]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd= 60
ctrl = 0
sprpriority = 2
anim = 2606
velset = 7,-3.8

[State 2605, Sound]
type = PlaySnd
trigger1 = !time
value = 41, 0

[State 2606, HitDef]
type = HitDef
trigger1 = !time
attr = A, NA
damage    = 50,5
priority  = 3
animtype  = Hard
guardflag = MA
pausetime = 11,12
sparkno = 2
sparkxy = -15,-73
hitsound   = S303,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 16
ground.velocity = -6,-4
air.velocity = -6,-4
fall = 1
fall.recover = 1
envshake.time = 15
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 2606, Gravity]
type = Gravity
Trigger1 = pos y < 0

[State 2606, StopFalling]
type = VelSet
Trigger1 =  Pos Y > 0
y = 0

[State 2606, GroundBorder]
type = PosSet
Trigger1 =  Pos Y > 0
y = 0

[State 2606, Next]
type = ChangeState
Trigger1 = pos y = 0 && time > 0
value = 2607
;---------------------------------------------------------------------------
; Recovery Roll - Jump Up Attack - Land
[Statedef 2607]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 60
ctrl = 0
sprpriority = 2
anim = 2607
velset = vel x, 0

[State 2607, Sound]
type = PlaySnd
trigger1 = !time
value = 40, 1

[State 2607, Dust1]
type = Explod
trigger1 = time = 1
Anim = 15013
Pos = -26, 0
Id = 15013
sprpriority = -1
removeongethit = 0
Postype = p1
ownpal =1
scale = 0.15,0.15

[State 2607, Dust2]
type = Explod
trigger1 = time = 1
Anim = 15014
Pos = 19, 0
Id = 15014
sprpriority = -1
removeongethit = 0
Postype = p1
ownpal =1
scale = 0.15,0.15

[State 2607, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Teleport Kick Back - Teleport part
[Statedef 2700]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -200
anim = 2700

[State 2700, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2700, NotHitBy]
type = NotHitBy
Trigger1 = 1
value = SCA
time = 1

[State 2700, PlaySND]
type = PlaySnd
Trigger1 = !time
value = 2900,0

[State 2700, TeleTrail.Helper]
type = Helper
trigger1 = time = 5
name = "Trail"
stateno = 17900
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 17900
size.xscale = 1
size.yscale = 1

[State 2700, Teleport]
type = PosAdd
Trigger1 = !animtime
x = (p2bodydist X)+80
y = (p2bodydist Y)

[State 2700, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value	= 1
ignorehitpause=1

[State 2700, Next]
type = ChangeState
Trigger1 = !animtime
value = 2701
ctrl = 1
;---------------------------------------------------------------------------
; Kick Up-Reappear/Hit
[Statedef 2701]
type    = A 
movetype= A
physics = A 
juggle  = 0 
velset = 0,0 
ctrl = 0   
poweradd = 0                   
sprpriority = 2                 
anim = 2701

[State 2701, Swing]
type = PlaySnd
trigger1 = !time
value = 210, 0

[State 2701, TeleAttackVar]
type = VarSet
triggerall = var(34) = 0
trigger1 = !time
v = 34
value = 1
[State 2701, TeleAttackVar]
type = VarSet
triggerall = var(34) = 2
trigger1 = !time
v = 34
value = 12
[State 2701, TeleAttackVar]
type = VarSet
triggerall = var(34) = 3
trigger1 = !time
v = 34
value = 13
[State 2701, TeleAttackVar]
type = VarSet
triggerall = var(34) = 23
trigger1 = !time
v = 34
value = 123

[State 2711, Turn]
type = Turn
Trigger1 = !animtime

[State 2701, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2701, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 2701, HitDef]
type = HitDef
trigger1 = !time
attr = A, SA
damage = 35,7
guardflag = HA
pausetime = 17,5
sparkno = -1
sparkxy = -23,-63
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = 7,-8
air.velocity = 7,-8
fall = 1
fall.recover = 0
envshake.time = 16
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 2701, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Teleport Punch - Teleport part
[Statedef 2710]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -200
anim = 2700

[State 2710, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2710, NotHitBy]
type = NotHitBy
Trigger1 = 1
value = SCA
time = 1

[State 2710, PlaySND]
type = PlaySnd
Trigger1 = !time
value = 2900,0

[State 2710, TeleTrail.Helper]
type = Helper
trigger1 = time = 5
name = "Trail"
stateno = 17900
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 17900
size.xscale = 1
size.yscale = 1

[State 2710, Teleport]
type = PosAdd
Trigger1 = !animtime
x = (p2bodydist X)+80
y = (p2bodydist Y)

[State 2710, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value	= 1
ignorehitpause=1

[State 2710, Next]
type = ChangeState
Trigger1 = !animtime
value = 2711
ctrl = 1
;---------------------------------------------------------------------------
; Tele Punch-Reappear/Hit
[Statedef 2711]
type    = A 
movetype= A
physics = A 
juggle  = 0 
velset = 0,0 
ctrl = 0   
poweradd = 0                   
sprpriority = 2                 
anim = 2711

[State 2711, Swing]
type = PlaySnd
trigger1 = !time
value = 210, 0

[State 2701, TeleAttackVar]
type = VarSet
triggerall = var(34) = 0
trigger1 = !time
v = 34
value = 2
[State 2701, TeleAttackVar]
type = VarSet
triggerall = var(34) = 1
trigger1 = !time
v = 34
value = 12
[State 2701, TeleAttackVar]
type = VarSet
triggerall = var(34) = 3
trigger1 = !time
v = 34
value = 23
[State 2701, TeleAttackVar]
type = VarSet
triggerall = var(34) = 13
trigger1 = !time
v = 34
value = 123

[State 2711, Turn]
type = Turn
Trigger1 = !animtime

[State 2711, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2711, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 2711, HitDef]
type = HitDef
trigger1 = !time
attr = A, SA
damage = 35,7
guardflag = HA
pausetime = 17,5
sparkno = -1
sparkxy = -23,-55
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = 8,-4.5
air.velocity = 8,-4.5
fall = 1
fall.recover = 0
envshake.time = 16
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 2711, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Teleport Kick Up - Teleport part
[Statedef 2720]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -200
anim = 2700

[State 2720, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2720, NotHitBy]
type = NotHitBy
Trigger1 = 1
value = SCA
time = 1

[State 2720, PlaySND]
type = PlaySnd
Trigger1 = !time
value = 2900,0

[State 2720, TeleTrail.Helper]
type = Helper
trigger1 = time = 5
name = "Trail"
stateno = 17900
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 17900
size.xscale = 1
size.yscale = 1

[State 2720, Teleport]
type = PosAdd
Trigger1 = !animtime
x = (p2bodydist X)+80
y = (p2bodydist Y)

[State 2720, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value	= 1
ignorehitpause=1

[State 2720, Next]
type = ChangeState
Trigger1 = !animtime
value = 2721
ctrl = 1
;---------------------------------------------------------------------------
; Kick Up-Reappear/Hit
[Statedef 2721]
type    = A 
movetype= A
physics = A 
juggle  = 0 
velset = 0,0 
ctrl = 0   
poweradd = 0                   
sprpriority = 2                 
anim = 2721

[State 2721, Swing]
type = PlaySnd
trigger1 = !time
value = 210, 0

[State 2701, TeleAttackVar]
type = VarSet
triggerall = var(34) = 0
trigger1 = !time
v = 34
value = 3
[State 2701, TeleAttackVar]
type = VarSet
triggerall = var(34) = 2
trigger1 = !time
v = 34
value = 23
[State 2701, TeleAttackVar]
type = VarSet
triggerall = var(34) = 1
trigger1 = !time
v = 34
value = 13
[State 2701, TeleAttackVar]
type = VarSet
triggerall = var(34) = 12
trigger1 = !time
v = 34
value = 123

[State 2721, Turn]
type = Turn
Trigger1 = !time

[State 2721, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2721, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 2721, HitDef]
type = HitDef
trigger1 = !time
attr = A, SA
damage = 35,7
guardflag = HA
pausetime = 17,5
sparkno = -1
sparkxy = -23,-55
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = -3,-12
air.velocity = -3,-12
fall = 1
fall.recover = 0
envshake.time = 16
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 2721, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Teleport Elbow - Teleport part
[Statedef 2730]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -200
anim = 2700

[State 2730, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2730, NotHitBy]
type = NotHitBy
Trigger1 = 1
value = SCA
time = 1

[State 2730, PlaySND]
type = PlaySnd
Trigger1 = !time
value = 2900,0

[State 2730, TeleTrail.Helper]
type = Helper
trigger1 = time = 5
name = "Trail"
stateno = 17900
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 17900
size.xscale = 1
size.yscale = 1

[State 2730, Teleport]
type = PosAdd
Trigger1 = !animtime
x = (p2bodydist X)+60
y = (p2bodydist Y)-ifelse(vel y < -2,-20,0)

[State 2730, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value	= 1
ignorehitpause=1

[State 2730, Next]
type = ChangeState
Trigger1 = !animtime
value = 2731
ctrl = 1
;---------------------------------------------------------------------------
; Teleport Elbow-Reappear/Hit
[Statedef 2731]
type    = A 
movetype= A
physics = A 
juggle  = 0 
velset = 0,0 
ctrl = 0   
poweradd = 0                   
sprpriority = 2                 
anim = 2731

[State 2731, Swing]
type = PlaySnd
trigger1 = !time
value = 210, 0

[State 2701, TeleAttackVar]
type = VarSet
trigger1 = !time
v = 34
value = 4

[State 2731, Turn]
type = Turn
Trigger1 = !time

[State 2731, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2731, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 2731, HitDef]
type = HitDef
trigger1 = !time
attr = A, SA
damage = 35,7
guardflag = HA
pausetime = 17,5
sparkno = -1
sparkxy = -23,-55
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = 0,10
air.velocity = 0,10
fall = 1
fall.recover = 0
fall.xvelocity = -2
fall.yvelocity = -10
fall.damage = 20
down.bounce = 1
envshake.time = 16
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90
p2facing = 1

[State 2731, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Zanzoken Forward Start
[Statedef 2900]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -100
anim = 2900

[State 2900, NoPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2900, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 9
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,0
timegap = 1
framegap = 1
trans = Add

[State 2900, TeleportFwd]
type = VelSet
Trigger1 = AnimElem = 3
x = 26
y = 0

[State 2900, Border1]
type = PosSet
Trigger1 =  Pos Y > 0
y = 0

[State 2900, NoTurn]
type = AssertSpecial
trigger1 = 1 && animtime !=0
flag = noautoturn
ignorehitpause=1

[State 2900, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2900,0

[State 2900, KickDust]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 7
Anim = 15011
Pos = 25, 0
Id = 15011
sprpriority = 2
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.2,0.2
velocity = 1,0

[State 2900, Next]
type = ChangeState
Trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Zanzoken Back Start
[Statedef 2901]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -100
anim = 2901

[State 2901, NoPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2901, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 9
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,0
timegap = 1
framegap = 1
trans = Add

[State 2901, TeleportFwd]
type = VelSet
Trigger1 = AnimElem = 3
x = -26
y = 0

[State 2901, Border1]
type = PosSet
Trigger1 =  Pos Y > 0
y = 0

[State 2901, NoTurn]
type = AssertSpecial
trigger1 = 1 && animtime !=0
flag = noautoturn
ignorehitpause=1

[State 2901, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2900,0

[State 2900, KickDust]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 7
Anim = 15010
Pos = -15, 0
Id = 15010
sprpriority = 2
removeongethit = 0
Postype = p1
ownpal = 1
scale = 0.2,0.2
velocity = -1,0

[State 2901, Next]
type = ChangeState
Trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Zanzoken Up Start
[Statedef 2903]
type    = A
movetype= I
physics = N
velset = 0,0
ctrl = 0
poweradd = -100
anim = 2903

[State 2903, NoPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2903, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 9
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,90,0
paladd = 32,24,0
timegap = 1
framegap = 1
trans = Add

[State 2903, TeleportFwd]
type = VelSet
Trigger1 = AnimElem = 3
x = 0
y = -26

[State 2903, Slow]
type = VelMul
Trigger1 = AnimElem = 3, > 0
y = 0.87

[State 2903, Border1]
type = PosSet
Trigger1 =  Pos Y > 0
y = 0

[State 2903, NoTurn]
type = AssertSpecial
trigger1 = 1 && animtime !=0
flag = noautoturn
ignorehitpause=1

[State 2903, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2900,0

[State 2903, Next]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Fall from Flight-Tired
[Statedef 3105]
type    = A
movetype= I
physics = N
velset = vel x * 0.75,vel y * 0.75
ctrl = 0
poweradd = 0
anim = 41

[State 3105, Sound]
type = PlaySnd
trigger1 = !time
value = 3105, 0

[State 2606, Gravity]
type = Gravity
Trigger1 = pos y < 0

[State 2606, StopFalling]
type = VelSet
Trigger1 =  Pos Y > 0
y = 0

[State 2606, GroundBorder]
type = PosSet
Trigger1 =  Pos Y > 0
y = 0

[State 3105, Next]
type = ChangeState
triggerall = power = 0
Trigger1 = pos y = 0
value = 5300

;===========================================================================
;Player 2 Custom States
;===========================================================================
; Wall Bounce : Used in State 1300
; Part 1 : P2 Fly Back
[Statedef 95000]
type    = A
movetype= H
physics = N
velset = 0,0

[State 95000, P2Anim]
type = ChangeAnim2
trigger1 = Time >= 0
value = 95000

[State 95000, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 95001

;---------------------------------------------------------------------------
; Wall Bounce : Used in State 1300
; Part 2 : P2 Hit Wall
[Statedef 95001]
type    = A
movetype= H
physics = N

[State 95001, Velocity]
type = HitVelSet
trigger1 = !time
x = 1
y = 1

[State 95001, Gravity]
type = VelAdd
trigger1 = Time >= 0
y = .45

[State 95001, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1
ignorehitpause=1

[State 95001, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 0
trigger2 = FrontEdgeBodyDist <= 0
value = 95002

[State 95001, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
; Wall Bounce : Used in State 1300
; Part 3 : P2 Pre-Fall from Wall
[Statedef 95002]
type    = A
movetype= H
physics = N

[State 95002, P2Anim]
type = ChangeAnim2
trigger1 = !time
value = 95002

[State 95002, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 95002, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1
ignorehitpause=1

[State 95002, Spark]
type = Explod
trigger1 = !time
anim = F72
pos = -24, -50
postype = p1
sprpriority = 3

[State 95002, PlaySnd]
type = PlaySnd
trigger1 = !time
value = F7,0

[State 95002, Next]
type = ChangeState
trigger1 = !animtime
value = 95003
;---------------------------------------------------------------------------
; Wall Bounce : Used in State 1300
; Part 4 : P2 Falling from Wall
[Statedef 95003]
type    = A
movetype= H
physics = N

[State 95003, P2Anim]
type = ChangeAnim2
trigger1 = !time
value = 95003

[State 95003, VelSet]
type = VelSet
trigger1 = !time
x = 1.6
y = -4

[State 95003, Next]
type = ChangeState
trigger1 = !animtime
value = 95004

;---------------------------------------------------------------------------
; Wall Bounce : Used in State 1300
; Part 5 : P2 Fall into Ground
[Statedef 95004]
type    = A
movetype= H
physics = N

[State 95004, VelSet]
type = VelSet
trigger1 = !time
x = 1.6
y = -4

[State 95004, VelAdd]
type = VelAdd
trigger1 = Time >= 0
y = .35

[State 95004, ChangeAnim 5050]
type = ChangeAnim
trigger1 = !time
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 95004, ChangeAnim 5052]
type = ChangeAnim
trigger1 = !time
trigger1 = SelfAnimExist(5052)
value = 5052

[State 95004, ChangeAnim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 95004, ChangeAnim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 95004, ChangeAnim 5050]
type = ChangeAnim
trigger1 = !time
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 95004, ChangeAnim 5052]
type = ChangeAnim
trigger1 = !time
trigger1 = SelfAnimExist(5052)
value = 5052

[State 95004, ChangeAnim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 95004, ChangeAnim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 95004, HitGround]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
; Wall Bounce : Used in with Super Fireball helper
; Part 2 : P2 Hit Wall
[Statedef 95005]
type    = A
movetype= H
physics = A

[State 95004, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 5030

[State 95005, Velocity]
type = HitVelSet
trigger1 = !Time
x = 1
y = 1

[State 95005, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 95005, Push]
type = PlayerPush
trigger1 = 1
value	= 0

[State 95005, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value	= 0

[State 95005, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;----------------------------------------------------------------------------
; Hell Flash P2 State (Fall to ground)
[Statedef 97683]
type    = A
movetype= H
physics = N
velset = 0,10

[State 97683, P2Anim]
type = ChangeAnim2
trigger1 = time
value = 5050

[State 97683, PosSet]
type = PosSet
trigger1 = pos y > 12
y = 12

[State 97683, State]
type = ChangeState
trigger1 = pos y = 12
value = 97684
;----------------------------------------------------------------------------
; Hell Flash P2 State (Underground/Vanished)
[Statedef 97684]
type    = A
movetype= H
physics = N
velset = 0,0

[State 97684, LifeAdd]
type = LifeAdd
trigger1=time=0
value = -30

[State 97684, LifeAdd]
type = LifeAdd
trigger1=time%5=0
value = -1

[State 97684, P2Anim]
type = ChangeAnim2
trigger1 = !time
value = 9999

[State 97684, State]
type = ChangeState
trigger1 = time = 320
value = 97685

[State 97686, PosSet]
type = PosSet
trigger1 = 1
y = 12
;----------------------------------------------------------------------------
; Hell Flash P2 State (PRE-Blasted Out of Ground)
[Statedef 97685]
type    = A
movetype= H
physics = N
velset = 0,0

[State 97686, State]
type = ChangeState
trigger1 = time = 9
value = 97686

[State 97686, PosSet]
type = PosSet
trigger1 = 1
y = 12
;----------------------------------------------------------------------------
; Hell Flash P2 State (Blasted Out of Ground)
[Statedef 97686]
type    = A
movetype= H
physics = N
velset = 0,-15

[State 97686, P2Anim]
type = ChangeAnim2
trigger1 = !time
value = 97685

[State 97686, LifeAdd]
type = LifeAdd
trigger1 = !time
value = -66

[State 97686, PosSet]
type = PosSet
trigger1 = !time
y = 0

[State 97686, P2Anim]
type = ChangeAnim2
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
value = 5061
persistent = 0

[State 97686, Gravity]
type = Gravity
trigger1 = 1

[State 97686, PosSet]
type = PosSet
triggerall = time > 0
trigger1 = pos y >= 0
y = 0

[State 97686, Hit ground]
type = SelfState
triggerall = time > 0
trigger1 = pos y = 0
value = 5100

;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------
;
;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
[StateDef -2]
;---------------------------------------------------------------------------
;Character, Creator Display
[State -2, DisplayToClipboard]
type = DisplayToClipboard
trigger1 = 1
;text = "Android 16 by Chrono_Strife and Benhazard"
text = "V.29:: %d, p2Bdist:: %d, p2dist:: %d, Fv.10:: %d"
params = Var(29), p2bodydist x, p2dist x, sin(FVar(10))



;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
[Statedef -3]
;----------------------------------------------------------------------------
[State -3, DamageDampener.Add]
type = VarAdd
triggerall = var(29) < 10
trigger1 = movehit && (hitpausetime = 1) && p2movetype = H
v = 29
value = 1
ignorehitpause = 1

[State -3, DamageDampener.Reset]
type = VarSet
triggerall = !numtarget
trigger1 = p2movetype != H 
trigger2 = numenemy && enemy,ctrl
v = 29 
value = 0

[State -3, DamageDampener.AttackMulReSet]
type = AttackMulSet
trigger1 = var(29)=0 
value = 1.0

[State -3, DamageDampener.AttackMulSet]
type = AttackMulSet
triggerall = var(29)!=0 
trigger1 = (stateno = [200,699]) || (stateno = [1000,1599])
value = 1.0-(var(29)*0.09)
;---------------------------------------------------------------------------
[State -3, ComboCounter.Reset]
type = VarSet
triggerall = var(16)>0
trigger1 = time=1
v = 16 
value = 0

[State -3, ComboCounter.Add]
type = VarAdd
trigger1 =  movehit && hitpausetime=1
v = 16
value = 1
ignorehitpause = 1
;---------------------------------------------------------------------------
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = StateNo = 52 ;Jump land
value = 40, 1

[State -3, LowHealthVariable]
type = VarRandom
trigger1 = life < 250 && Var(7) = 0
v = 7
range = 1,4

[State -3, P2LowHealthVariable]
type = VarRandom
trigger1 = p2life < 250 && Var(8) = 0
v = 8
range = 1,4
;---------------------------------------------------------------------------
[State -3, Aura.Helper]
type = null;Helper
trigger1 = alive && !numhelper(10000)
name = "Aura"
stateno = 10000
id = 10000
pos = 0,0
postype = p1
ownpal = 1
supermovetime  = 9999999
pausemovetime  = 9999999
ignorehitpause = 1
;---------------------------------------------------------------------------
;Auto Power Up
[State -3, AutoPower]
type = PowerAdd
triggerall = stateno != [1050,1054]
trigger1 = gametime%4=0 && roundstate = 2 && alive
value = 1
;--------------------------------------------------------------------------
[State -3, Fall]
type = Changestate
triggerall = (statetype = S || statetype = C) && pos y < 0 
trigger1 = (stateno = [0,299]) || (stateno =[311,599])
value = 50
ctrl = 1
;--------------------------------------------------------------------------
;Reset TelAttck Combo
[State -3, TeleAttackVar]
type = VarSet
trigger1 = var(34) != 0 && ctrl
v = 34
value = 0
;--------------------------------------------------------------------------
;Reset Air Dash counter
[State -3, AirDashVarReset]
type = VarSet
triggerall = Var(42) != 0 && alive
trigger1 = statetype != A || movetype = H
v= 42
value = 0
ignorehitpause = 1
;--------------------------------------------------------------------------
;Rocket Punch Cooldown (Recharge)
[State -3, VarSet.LRocketCoolDown]
type = VarAdd
trigger1 = var(37)>0
v = 37
value = -1
[State -1, VarSet.RRocketCoolDown]
type = VarAdd
trigger1 = var(38)>0
v = 38
value = -1
;--------------------------------------------------------------------------
;Hell Flash Opponent Crater
[State -3, Crater.Helper.P2]
type = Helper
triggerall = !numhelper(15273) && numtarget(2005)
trigger1 = target(2005), pos y = 12 && target(2005), stateno = 97684
name = "Crater"
stateno = 15273
id = 15273
postype = p2
pos = 0, 0
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause=1

;Hell Flash Opponent Hole(Blown out of ground)
[State -3, Hole.Helper.P2]
type = Helper
triggerall = !numhelper(15277) && numtarget(2005)
trigger1 = target(2005), stateno = 97685 && target(2005), time=2
name = "Hole"
stateno = 15277
id = 15277
postype = p2
pos = 0, 0
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause=1
;------------------------------------------------------------------------------
;Artificial Intelligence
;------------------------------------------------------------------------------
;Close-Up States
;Throw
[State -3, AI.Throw]
type = ChangeState
triggerall = var(39) && alive && statetype = S && ctrl && roundstate=2 && p2bodydist x < 7
trigger1 = (Var(40) = [1,30])
value = ifelse(random>400, 800, 950)

;Standing Basics
;Elbow
[State -3, AI.Elbow]
type = ChangeState
triggerall = var(39) && alive && statetype = S && ctrl && roundstate=2 && p2bodydist x < 35
trigger1 = (Var(40) = [31,60])
value = 200
;Medium Punch
[State -3, AI.MPunch]
type = ChangeState
triggerall = var(39) && alive && statetype = S && roundstate=2
trigger1 = (Var(40) = [61,80]) && (p2bodydist x < 40) && ctrl
trigger2 = (stateno = 200 || stateno = 230) && movecontact && (random < 8*35)
value = 210
;Strong Punch
[State -3, AI.SPunch]
type = ChangeState
triggerall = var(39) && alive && statetype = S && roundstate=2 && stateno !=220
trigger1 = (Var(40) = [81,90]) && (p2bodydist x < 40)  && ctrl
trigger2 = (stateno = 210 || stateno = 240) && movecontact && (random < 8*35)
value = 220

;Weak Kick
[State -3, AI.WKick]
type = ChangeState
triggerall = var(39) && alive && statetype = S && roundstate=2
trigger1 = (Var(40) = [91,110]) && (p2bodydist x < 40) && ctrl
trigger2 = (stateno = 200) && movecontact && (random < 8*35)
value = 230
;Medium Kick
[State -3, AI.MKick]
type = ChangeState
triggerall = var(39) && alive && statetype = S && roundstate=2
trigger1 = (Var(40) = [111,125]) && (p2bodydist x < 40)  && ctrl
trigger2 = (stateno = 210 || stateno = 230) && movecontact && (random < 8*35) 
value = 240
;Strong Kick
[State -3, AI.SKick]
type = ChangeState
triggerall = var(39) && alive && statetype = S && roundstate=2
trigger1 = (Var(40) = [126,135]) && (p2bodydist x < 40) && ctrl
trigger2 = (stateno = 240 || (stateno = 220 && var(16)=2)) && movecontact && (random < 8*35)
value = 250

;Launcher
[State -3, AI.Launcher]
type = ChangeState
triggerall = var(39) && alive && (statetype = S || statetype = C) && roundstate=2
trigger1 = (Var(40) = [136,145]) && (p2bodydist x < 40) && ctrl
trigger2 = ((stateno = 200) || (stateno = 210) || (stateno = 230) || (stateno = 240)) && movecontact && (random < 8*35)
trigger3 = ((stateno = 400) || (stateno = 410)||(stateno = 430) || (stateno = 440)) && movecontact && (random < 8*35) 
value = 260
;Shoulder Bash
[State -3, AI.ShoulderClose]
type = ChangeState
triggerall = var(39) && alive && (statetype = S) && roundstate=2 && pos y = 0
trigger1 = (Var(40) = [146,160]) && (p2bodydist x < 40) && ctrl
trigger2 = (stateno = [200,250]) && movecontact && (random < 8*35)
trigger3 = ((stateno = 400) || (stateno = 410)||(stateno = 430) || (stateno = 440)) && movecontact && (random < 8*35) 
value = ifelse(random>300, 1300, 1301)

;Counter Strike - Rocket Throw
[State -3, AI.Counter.RocketThrow]
type = ChangeState
triggerall = var(39)  && alive && (statetype = S) && ctrl && roundstate=2 && power > 500 && pos y = 0
trigger1 = numenemy && (enemynear(0), movetype=A) && (InGuardDist && random < 8*3) && (p2bodydist x < 40)
value = 1320
;------------------------------------------------------------------------------
;Medium Distance States
;Zanzoken
[State -3, AI.Zanzoken]
type = ChangeState
triggerall = var(39)  && alive && (statetype = S || statetype = A) && ctrl && roundstate=2 && power > 250
trigger1 = (Var(40) = [1,20]) && (p2bodydist x >= 40 && p2bodydist x <= 100) && p2bodydist y >= -70
trigger2 = numenemy && (enemynear(0), movetype=A) && (random < 8 || InGuardDist && random < 8*3) 
value = ifelse(random>200, 2900, 2901)
;Run Forward
[State -3, AI.RunoJumpFwd]
type = ChangeState
triggerall = var(39) && alive && statetype = S && ctrl && roundstate=2 && pos y = 0
trigger1 = (Var(40) = [21,30]) && (p2bodydist x >= 40 && p2bodydist x <= 100) && stateno = 0
value = 100

;Shoulder Bash
[State -3, AI.ShoulderMid]
type = ChangeState
triggerall = var(39) && alive && (statetype = S || statetype = C) && ctrl && roundstate=2 && pos y = 0
trigger1 = (Var(40) = [31,80]) && (p2bodydist x >= 40 && p2bodydist x <= 100) && p2bodydist y >= -70
trigger2 = (stateno = [200,250]) && movecontact && (random < 8*35)
trigger3 = ((stateno = 400) || (stateno = 410)||(stateno = 430) || (stateno = 440)) && movecontact && (random < 8*35) 
value = ifelse(random>300, 1302, 1301)
;Shoulder Bash Chain 1 - Shoulder Tackle
[State -3, AI.Chain.ShoulderTackle]
type = ChangeState
triggerall = var(39) && alive && roundstate=2
trigger1 = (stateno = [1300,1302]) && movecontact && (random < 8*35) 
value = 1310
;Shoulder Bash Chain 2 - Spin Kick
[State -3, AI.Chain.SpinKick]
type = ChangeState
triggerall = var(39) && alive && roundstate=2
trigger1 = stateno = 1310 && movecontact && (random < 8*35) 
value = 1315
;Shoulder Bash Chain - Fierce Charge
[State -3, AI.Chain.FierceCharge]
type = ChangeState
triggerall = var(39) && alive && roundstate=2
trigger1 = (stateno = 1310 || stateno = 1315) && movecontact && (random < 8*35) 
value = 1319

;Head Butt
[State -3, AI.HeadButt]
type = ChangeState
triggerall = var(39) && alive && statetype = S && roundstate=2 && pos y = 0
trigger1 = (Var(40) = [81,130]) && (p2bodydist x >= 40 && p2bodydist x <= 100) && ctrl
trigger2 = (stateno = [200,250]) && movecontact && (random < 8*35)
trigger3 = ((stateno = 400) || (stateno = 410) || (stateno = 430) || (stateno = 440)) && movecontact && (random < 8*35) 
trigger4 = (stateno = [1300,1302]) && movecontact && (random < 8*35) 
value = ifelse(random>300, 1400, 1402)

;------------------------------------------------------------------------------
:Far Away States
;Run Forward
;SJ Fwd
[State -3, AI.RunoJumpFwd]
type = ChangeState
triggerall = var(39) && alive && statetype = S && ctrl && roundstate=2 && pos y = 0
trigger1 = (Var(40) = [1,25]) && p2dist x > 100 && stateno = 0
trigger2 = (Var(40) = [1,45]) && p2dist x > 120 && stateno = 0
value = ifelse(random > 500, 41,100)
;Air Run Forward
[State -3, AI.ARunFwd]
type = ChangeState
triggerall = var(39) && alive && statetype = A && ctrl && roundstate=2
trigger1 = (Var(40) = [1,25]) && p2bodydist x > 100 && (stateno = 40 || stateno = 41) && sysvar(1) = 0
trigger2 = (Var(40) = [1,45]) && p2bodydist x > 100 && (stateno = 40 || stateno = 41) && sysvar(1) = 0
value = 102

;RocketPunch
[State -3, AI.RocketPunch.L]
type = ChangeState
triggerall = var(39) && alive && statetype = S && ctrl && roundstate=2 && var(37) <= 0
trigger1 = (Var(40) = [46,60]) && p2bodydist x > 100 && power > 100 && p2bodydist y >= -70
trigger2 = stateno = 1002 && animelem = 3,> 5 && (random < 8*20)
value = 1000
[State -3, AI.RocketPunch.R]
type = ChangeState
triggerall = var(39) && alive && statetype = S && ctrl && roundstate=2 && var(38) <= 0
trigger1 = (Var(40) = [61,75]) && p2bodydist x > 100 && power > 100 && p2bodydist y >= -70
trigger2 = stateno = 1000 && animelem = 3,> 5 && (random < 8*20)
value = 1002
[State -3, AI.BeamCannon]
type = ChangeState
triggerall = var(39) && alive && statetype = S && ctrl && roundstate=2
trigger1 = (Var(40) = [76,90]) && p2bodydist x > 100 && power > 300 && p2bodydist y >= -70
trigger2 = stateno = 1000 && animelem = 3,> 5 && var(38) <= 0 && (random < 8*20)
trigger3 = stateno = 1002 && animelem = 3,> 5 && var(37) <= 0 && (random < 8*20)
value = 1050

;Extra RunFwd
[State -3, AI.MoreRun]
type = ChangeState
triggerall = var(39) && alive && statetype = S && ctrl && roundstate=2
trigger1 = (Var(40) = [91,100]) && p2bodydist x > 100 && stateno = 0
value = 100

;Super: Annihilate
[State -3, AI.Super Running Combo]
type = ChangeState
triggerall = var(39) && alive && statetype = S && ctrl && roundstate=2 && power >= 1000
trigger1 = (Var(40) = [141,150]) && p2bodydist x > 40 && p2bodydist y >= -70
trigger2 = (stateno = 200 || stateno = 210 || stateno = 230 || stateno = 240 || stateno = 250) && movecontact && (random < 8*10)
trigger3 = (stateno = 400 || stateno = 410 || stateno = 420 || stateno = 430 || stateno = 440 || stateno = 460) && movecontact && (random < 8*10)
value = 2100
;Super: Countdown
[State -3, AI.Countdown]
type = ChangeState
triggerall = var(39) && alive && statetype = S && ctrl && roundstate=2 && power >= 1000
trigger1 = (Var(40) = [151,160]) && p2bodydist x > 100 && p2bodydist y >= -70
trigger2 = (stateno = 200 || stateno = 210 || stateno = 230 || stateno = 240 || stateno = 250) && movecontact && (random < 8*10)
trigger3 = (stateno = 400 || stateno = 410 || stateno = 420 || stateno = 430 || stateno = 440 || stateno = 460) && movecontact && (random < 8*10)
value = 1900
;Super: HellFlash
[State -3, AI.HellFlash]
type = ChangeState
triggerall = var(39) && alive && statetype = S && ctrl && roundstate=2 && power >= 2000
trigger1 = (Var(40) = [161,170]) && p2bodydist x > 100 && p2bodydist y >= -70
trigger2 = (stateno = 200 || stateno = 210 || stateno = 230 || stateno = 240 || stateno = 250) && movecontact && (random < 8*10)
trigger3 = (stateno = 400 || stateno = 410 || stateno = 420 || stateno = 430 || stateno = 440 || stateno = 460) && movecontact && (random < 8*10)
value = 2000
;------------------------------------------------------------------------------
;Weak Air Punch
[State -3, AI.WAPunch]
type = ChangeState
triggerall = var(39) && alive && statetype = A && ctrl && roundstate=2
trigger1 = (Var(40) = [1,40]) && (p2bodydist x < 40) && stateno = 0
value = 600

;Medium Air Punch
[State -3, AI.MAPunch]
type = ChangeState
triggerall = var(39) && alive && statetype = A && ctrl && roundstate=2
trigger1 = (Var(40) = [41,60]) && (p2bodydist x < 40) && stateno = 0 
trigger2 = (stateno = 600 || stateno = 630) && movecontact && (random < 8*20)
value = 610

;Strong Air Punch
[State -3, AI.SAPunch]
type = ChangeState
triggerall = var(39) && alive && statetype = A && ctrl && roundstate=2
trigger1 = (Var(40) = [61,70]) && (p2bodydist x < 40) && stateno = 0 
trigger2 = (stateno = 610 || stateno = 640) && movecontact && (random < 8*20)
value = 620

;Weak Air Kick
[State -3, AI.WAKick]
type = ChangeState
triggerall = var(39) && alive && statetype = A && ctrl && roundstate=2
trigger1 = (Var(40) = [71,100]) && (p2bodydist x < 40) && stateno = 0
trigger2 = (stateno = 600) && movecontact && (random < 8*20)
value = 630

;Medium Air Kick
[State -3, AI.MAKick]
type = ChangeState
triggerall = var(39) && alive && statetype = A && ctrl && roundstate=2
trigger1 = (Var(40) = [101,115]) && (p2bodydist x < 40) && stateno = 0 
trigger2 = (stateno = 610 || stateno = 630) && movecontact && (random < 8*20)
value = 640

;Strong Air Kick
[State -3, AI.MAKick]
type = ChangeState
triggerall = var(39) && alive && statetype = A && ctrl && roundstate=2
trigger1 = (Var(40) = [116,125]) && (p2bodydist x < 40) && stateno = 0 
trigger2 = (stateno = 620 || stateno = 640) && movecontact && (random < 8*20)
value = 650
;------------------------------------------------------------------------------
;=================
;======Guard======
;=================
[State -3,AI.Guard]
type = ChangeState
triggerall = var(39) && statetype = S && ctrl && alive
trigger1 = p2statetype = S && p2movetype = A && InGuardDist && (random < 8*40)
value = 130

[State -3,AI.CGuard]
type = ChangeState
triggerall = var(39) && statetype = C && ctrl && alive
trigger1 =  p2statetype = C && p2movetype = A && inguarddist && (random < 8*40)
value = 131

[State -3,AI.AGuard]
type = ChangeState
triggerall = var(39) && statetype = A && ctrl && alive
trigger1 = p2statetype = A && p2movetype = A && inguarddist && (random < 8*40)
value = 132
;----------------------------------------------------------------------------
;=================
;==AI Var Select==
;=================
;State Decider
[State -3, AI.StateDecider]
type = VarRandom
triggerall = var(39) && Var(40) = 0 && alive
trigger1 = ctrl
v= 40
range = 1,(220-8*5)
ignorehitpause = 1

;State Decider Reset
[State -3, AI.StateDeciderReset]
type = VarSet
triggerall = var(39) && Var(40) != 0 && alive
trigger1 = !ctrl
trigger2 = (statetype = A && (stateno = 40 || stateno = 41))
v= 40
value = 0
ignorehitpause = 1